"use strict";function _typeof(e){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}(function(e,t){"use strict";"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.TinSlide=t()})(void 0,function(){"use strict";function e(e,t){var n=Math.round,s=Math.floor;function o(e){var t={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};e=e||window.event;var i=!1;i=e.type in t?"hidden"===t[e.type]:!!document[l],i?a.addClass(a.container,"window-hidden"):a.removeClass(a.container,"window-hidden")}var r,a;a={defaultSettings:{debug:!1,effects:{slideHorizontal:{on:!0,offset:1,numVisible:1,centerSelected:!1},scale:{on:!1,min:.8,max:1,minAt:1,maxAt:0},fade:{on:!1,min:0,max:1,minAt:1,maxAt:0},motionBlur:{on:!1,maxPixels:2,stepMin:.05,factor:500}},useUpdateContainerHeight:!1,verticallyCenter:!1,useContainerClickNextPrev:!1,swipe:{on:!0,touchOnly:!1,stepFactor:.25,stepFactorTouch:.75,pressMoveBeforeInvokeGrabbing:!1,releaseRequiredSwipeX:0},generate:{dots:{on:!0,afterContainer:!0},nav:{on:!0,afterContainer:!0},styles:{on:!0,containerParentPosition:"relative"}},ratio:null,hasHeight:!1,autoPlay:{on:!1,time:5e3,pauseOnHover:!0,stopOnNavigation:!0},loop:!0,useNonLoopingHint:!0,cropContainer:!0,zIndex:0,hideItems:!0,hideUsingVisibility:!1,moveSelectedItem:!1,stepSnap:3e-4,stepFactor:.2,stepMax:.2,stepMin:4e-4,stepTurnBreakFactor:.5,chokeReleaseStep:.05,chokeReleaseFactor:1.5,chokeReturnFactor:2},settings:{},container:null,containerWidth:0,items:[],numItems:0,numHalfItems:0,pointer:0,pointerVal:0,selectedItem:null,numItemsInside:1,itemsVisible:{},itemsOutside:{},targetVal:0,targetIndex:0,targetIndexWithinBounds:0,timerAnimate:0,step:0,stepAbs:0,choke:0,containerHeight:0,timerUpdateContainerHeight:0,swipePressX:0,timerSwipePress:0,swipePressPointerVal:0,swipeTargetVal:0,timerSwipe:0,swipeX:0,swipeXAbs:0,swipePreventDefault:!1,swipeIsTouch:!1,swipeScrollsElementCounter:0,dotsItems:null,currentDotIndex:null,nav:null,ratioPercent:null,timerAutoPlay:0,autoPlayState:null,autoPlayForwards:!0,timerNonLoopingHint:0,translateXOffsetProgress:0,style:null,breakPoints:[],currentBreakPoint:{},init:function init(e,t){this.onSwipePressMove=this.onSwipePressMove.bind(this),this.clearSwipePressMove=this.clearSwipePressMove.bind(this),this.container=e;var s,o,r,a,d,l;this.body=document.getElementsByTagName("body")[0];var p=e.getElementsByClassName("tin-slide-img"),m=[];for(o=0,r=p.length;o<r;o++)m.push(p[o]);for(;m.length;){d=m.shift();var u=document.createElement("img");l=d.getAttribute("data-src"),l&&void 0!==l&&""!==l&&u.setAttribute("src",l);var c=d.getAttribute("data-srcset");c&&void 0!==c&&""!==c&&u.setAttribute("srcset",c);var g=d.getAttribute("data-bg");g&&void 0!==g&&""!==g&&u.setAttribute("style","background: url(\""+g+"\") no-repeat center; background-size: cover;"),d.parentNode.replaceChild(u,d)}var h=e.getElementsByClassName("tin-slide-bg"),b=[];for(o=0,r=h.length;o<r;o++)b.push(h[o]);for(;b.length;)d=b.shift(),l=d.getAttribute("data-bg"),l&&void 0!==l&&""!==l&&d.setAttribute("style","background: url(\""+l+"\") no-repeat center; background-size: cover;");var f=e.getElementsByClassName("tin-slide-markup"),w=[];for(o=0,r=f.length;o<r;o++)w.push(f[o]);for(;w.length;){d=w.shift();var y=document.createElement("div");y.innerHTML=d.getAttribute("data-markup"),d.parentNode.replaceChild(y.firstElementChild,d)}var x=[];for(o=0,r=this.container.childNodes.length;o<r;o++)s=this.container.childNodes[o],s.nodeType===Node.ELEMENT_NODE&&x.push(s);for(this.items=x,this.numItems=this.items.length,this.numHalfItems=this.numItems/2,o=0;o<this.numItems;o++)s=this.items[o],s.tinSlideIndex=o,s.style.position="absolute",this.hideOrShowElement(s,!0);if(this._onAnimationTimer=this.onAnimationTimer.bind(this),this._onSwipePress=this.onSwipePress.bind(this),this._onSwipeRelease=this.onSwipeRelease.bind(this),this._onSwipeMove=this.onSwipeMove.bind(this),this._onTimerSwipe=this.onTimerSwipe.bind(this),this._pauseAuto=this.pauseAuto.bind(this),this._resumeAuto=this.resumeAuto.bind(this),this._imageLoaded=this.imageLoaded.bind(this),this._updateContainerHeight=this.updateContainerHeight.bind(this),void 0!==t&&(this.setOptions(this.defaultSettings,t),void 0!==t.breakPoints)){for(a in t.breakPoints){var S=parseInt(a,10);isNaN(S)||this.breakPoints.push({width:S,options:t.breakPoints[a]})}this.breakPoints.sort(function(e,t){return e.width-t.width});var P={};for(o=0;o<this.breakPoints.length;o++)this.mergeObjects(P,this.breakPoints[o].options),this.breakPoints[o].options=this.cloneObject(P,{})}for(e.style.position="relative",this.updateBreakPoint(),o=0;o<this.numItems;o++)s=this.items[o],s.removeAttribute("tin-slide-cloak");e.removeAttribute("tin-slide-cloak");var I=this.container.querySelectorAll("img");for(o=0;o<I.length;o++)I[o].addEventListener("load",this._imageLoaded);window.addEventListener("resize",function(){this.containerWidth=0,this.updateBreakPoint()}.bind(this)),document.addEventListener("touchmove",function(e){this.swipePreventDefault&&e.preventDefault()}.bind(this),{passive:!1})},updateBreakPoint:function updateBreakPoint(){var e=this.getBreakPoint();e===this.currentBreakPoint||(this.currentBreakPoint=e,e?(this.container.setAttribute("tin-slide-break-point",e.width),this.initSettings(e.options)):(this.container.removeAttribute("tin-slide-break-point"),this.initSettings()))},getBreakPoint:function getBreakPoint(){var e,t,s=null,o=this.getContainerWidth();for(e=0,t=this.breakPoints.length;e<t&&o>=this.breakPoints[e].width;e++)s=this.breakPoints[e];return s},initSettings:function initSettings(e){if(void 0===e)this.settings=this.defaultSettings;else{var t=this.cloneObject(this.defaultSettings,{});this.setOptions(t,e),this.settings=t}var n,s;for(n=0;n<this.numItems;n++)s=this.items[n],s.style.top=this.settings.verticallyCenter?"50%":"0",s.style.left="0",s.style.width=(this.settings.effects.slideHorizontal.on?100/this.settings.effects.slideHorizontal.numVisible:100)+"%";if(this.settings.cropContainer?this.container.style.overflow="hidden":"hidden"===this.container.style.overflow&&(this.container.style.overflow=""),this.settings.ratio?(this.settings.ratioPercent=100*(1/this.settings.ratio),this.container.style.paddingTop=this.settings.ratioPercent+"%"):""!==this.container.style.paddingTop&&(this.container.style.paddingTop=""),this.settings.zIndex?this.container.style.zIndex=this.settings.zIndex:""!==this.container.style.zIndex&&(this.container.style.zIndex=""),this.settings.useContainerClickNextPrev&&this.container.addEventListener("mouseup",function(e){var t=this.getContainerWidth();t&&(e.layerX-this.container.offsetLeft<t/2?this.previous():this.next())}.bind(this)),1<this.items.length&&(this.setSwipeStyles(),this.container.removeEventListener("touchstart",this._onSwipePress),this.container.removeEventListener("mousedown",this._onSwipePress),this.settings.swipe.on&&(this.container.addEventListener("touchstart",this._onSwipePress),!this.settings.swipe.touchOnly&&this.container.addEventListener("mousedown",this._onSwipePress))),window.removeEventListener("resize",this._updateContainerHeight),this.settings.useUpdateContainerHeight?(this.updateContainerHeight(),window.addEventListener("resize",this._updateContainerHeight)):this.container.style.height="",this.numItemsInside=1,this.translateXOffsetProgress=0,this.settings.effects.slideHorizontal.on&&1<this.settings.effects.slideHorizontal.numVisible&&(this.numItemsInside=this.settings.effects.slideHorizontal.numVisible,this.settings.effects.slideHorizontal.centerSelected&&(this.translateXOffsetProgress=.5*(this.settings.effects.slideHorizontal.numVisible-1))),1<this.items.length)if(this.settings.generate.dots.on?(!this.dots&&(this.dots=this.createDots()),this.container.parentNode.insertBefore(this.dots,this.settings.generate.dots.afterContainer?this.container.nextSibling:this.container)):this.dots&&this.dots.parentNode&&this.dots.parentNode.removeChild(this.dots),this.settings.generate.nav.on?(!this.nav&&(this.nav=this.createNav()),this.container.parentNode.insertBefore(this.nav,this.settings.generate.nav.afterContainer?this.container.nextSibling:this.container)):this.nav&&this.nav.parentNode&&this.nav.parentNode.removeChild(this.nav),this.settings.generate.styles.on){this.settings.generate.styles.containerParentPosition&&(this.container.parentNode.style.position=this.settings.generate.styles.containerParentPosition),this.style||(this.style=this.createStyles());var o=document.getElementsByTagName("head")[0];o.insertBefore(this.style,o.firstChild)}else this.style&&this.style.parentNode&&this.style.parentNode.removeChild(this.style);if(1<this.items.length){var r=[this.container];for(this.dots&&r.push(this.dots),this.nav&&r.push(this.nav),n=0;n<r.length;n++)r[n].removeEventListener("mouseenter",this._pauseAuto),r[n].removeEventListener("mouseleave",this._resumeAuto);if(this.pauseAuto(),this.settings.autoPlay.on&&(this.startAuto(),this.settings.autoPlay.pauseOnHover))for(n=0;n<r.length;n++)r[n].addEventListener("mouseenter",this._pauseAuto),r[n].addEventListener("mouseleave",this._resumeAuto)}this.selectedItem=null,this.setPointer(this.pointerVal),this.updateDots()},setSwipeStyles:function setSwipeStyles(){var e,t,s,o={"user-drag":"none","user-select":"none","-moz-user-select":"none","-webkit-user-drag":"none","-webkit-user-select":"none","-ms-user-select":"none"},r={};for(var a in o)r[a]=o[a];for(r["pointer-events"]="none",e=0;e<this.numItems;e++){this.settings.swipe.on?this.css(this.items[e],o):this.removeCss(this.items[e],o);var d=this.items[e].getElementsByTagName("img");for(t=d.length,s=0;s<t;s++)this.settings.swipe.on?this.css(d[s],r):this.removeCss(d[s],r)}this.settings.swipe.on&&!this.settings.swipe.touchOnly?this.container.style.cssText+="; cursor: -webkit-grab; cursor: grab;":this.removeCss(this.container,["cursor"])},css:function css(e,t){for(var i in t)e.style[i]=t[i]},removeCss:function removeCss(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)e.style[t[n]]="";else for(var s in t)e.style[s]=""},addClass:function addClass(e,t){var i=e.className.split(" ");-1===i.indexOf(t)&&i.push(t),e.className=i.join(" ")},removeClass:function removeClass(e,t){var i=e.className.split(" "),n=i.indexOf(t);-1!==n&&(i.splice(n,1),e.className=i.join(" "))},hasClass:function hasClass(e,t){var i=e.className.split(" ");return-1<i.indexOf(t)},hideOrShowElement:function hideOrShowElement(e,t){this.settings.hideUsingVisibility?e.style.visibility=t?"hidden":"visible":e.style.display=t?"none":"block"},setOptions:function setOptions(e,t){for(var i in t){var n=_typeof(e[i]);(n===_typeof(t[i])||null===e[i])&&("object"===n&&null!==e[i]?this.setOptions(e[i],t[i]):e[i]=t[i])}},cloneObject:function cloneObject(e,t){var n,s;if(!Array.isArray(e))for(n in e)"object"===_typeof(e[n])&&null!==e[n]?(t[n]=Array.isArray(e[n])?[]:{},this.cloneObject(e[n],t[n])):t[n]=e[n];else for(s=0;s<e.length;s++)"object"===_typeof(e[s])&&null!==settings[s]?(t.push(Array.isArray(e[n])?[]:{}),this.cloneObject(e[s],t[s])):t.push(e[s]);return t},mergeObjects:function mergeObjects(e,t){for(var i in t)"object"!==_typeof(t[i])||null===t[i]||Array.isArray(t[i])?e[i]=t[i]:(("object"!==_typeof(e[i])||null===e[i]||Array.isArray(e[i]))&&(e[i]={}),this.mergeObjects(e[i],t[i]));return e},createDots:function createDots(){var e=this,t=document.createElement("UL");t.setAttribute("class","tin-slide-dots");var n=function(t){e.onDotClick(t)};this.dotsItems=[];for(var s,o=0;o<this.numItems;o++)s=document.createElement("LI"),s.setAttribute("class","tin-slide-dot-"+o),s.setAttribute("tin-slide-index",o),s.style.cursor="pointer",t.appendChild(s),this.dotsItems.push(s),s.addEventListener("click",n);return t},createNav:function createNav(){var e=this,t=document.createElement("NAV");t.setAttribute("class","tin-slide-next-prev");var i=document.createElement("DIV");i.setAttribute("class","tin-slide-prev"),i.style.cursor="pointer",i.addEventListener("mousedown",function(e){e.preventDefault()}),i.addEventListener("click",function(){this.previous()}.bind(this)),t.appendChild(i);var n=document.createElement("DIV");return n.setAttribute("class","tin-slide-next"),n.style.cursor="pointer",n.addEventListener("mousedown",function(e){e.preventDefault()}),n.addEventListener("click",function(){this.next()}.bind(this)),t.appendChild(n),t},createStyles:function createStyles(){var e=document.createElement("STYLE");return e.innerHTML=[".tin-slide-prev, .tin-slide-next {position: absolute;left: 10px;top: 50%;}",".tin-slide-prev:before, .tin-slide-prev:after, .tin-slide-next:before, .tin-slide-next:after {content: '';display: block;width: 0;height: 0;position: absolute;top: 0;-webkit-transform: translateY(-50%);-ms-transform: translateY(-50%);-o-transform: translateY(-50%);transform: translateY(-50%);}",".tin-slide-prev:before, .tin-slide-next:before {opacity: 0.1;-webkit-transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}",".tin-slide-prev:hover:before, .tin-slide-next:hover:before {opacity: 0;}",".tin-slide-prev:before {left: 0;border-top: 23px solid transparent;border-bottom: 23px solid transparent;border-right: 41px solid black;margin-left: -4px;}",".tin-slide-prev:after {left: 0;border-top: 20px solid transparent;border-bottom: 20px solid transparent;border-right: 35px solid rgba(255, 255, 255, 0.4);-webkit-transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}",".tin-slide-prev:hover:after {border-right-color: white;}",".tin-slide-next {left: inherit;right: 10px;}",".tin-slide-next:before {right: 0;border-top: 23px solid transparent;border-bottom: 23px solid transparent;border-left: 41px solid black;margin-right: -4px;}",".tin-slide-next:after {right: 0;border-top: 20px solid transparent;border-bottom: 20px solid transparent;border-left: 35px solid rgba(255, 255, 255, 0.4);-webkit-transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}",".tin-slide-next:hover:after {border-left-color: white;}",".tin-slide-dots {position: absolute;bottom: 10px;left: 50%;-webkit-transform: translateX(-50%);-ms-transform: translateX(-50%);-o-transform: translateX(-50%);transform: translateX(-50%);}",".tin-slide-dots li {-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;width: 16px;height: 16px;border-radius: 8px;background-color: transparent;border: 2px solid white;margin-right: 5px;opacity: 0.9;-webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);-webkit-transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}",".tin-slide-dots li:hover {background-color: rgba(255, 255, 255, 0.5);}",".tin-slide-dots li.on {background-color: white; }",".tin-slide-outside {pointer-events: none;}"].join("\n"),e},setPointer:function setPointer(e){var t,n;this.pointerVal=e;var o=e%this.numItems;0>o&&this.settings.loop&&(o+=this.numItems),this.pointer=o;var a=[];if(!this.settings.hideItems)for(t=0;t<this.numItems;t++)a.push(this.items[t]);else{var d=o-this.translateXOffsetProgress;0>d&&this.settings.loop&&(d+=this.numItems);var l=s(d);for(0<=l&&a.push(this.items[l]),t=1;t<=this.numItemsInside-(d===l?1:0);t++){var p=l+t;this.settings.loop&&(p%=this.numItems),p<this.items.length&&-1===a.indexOf(this.items[p])&&a.push(this.items[p])}}for(n in this.itemsVisible)this.itemsVisible[n]=null;var m,u=a.length,c=!1;for(t=0;t<u;t++){m=a[t],void 0===this.itemsVisible[m.tinSlideIndex]&&this.hideOrShowElement(m,!1);var g=this.pointer-m.tinSlideIndex;this.translateXOffsetProgress?g>this.numHalfItems?g-=this.numItems:g<-this.numHalfItems&&(g+=this.numItems):1<g&&(g-=this.numItems),this.itemsVisible[m.tinSlideIndex]=g,.5<g||-.5>g||c?(m.style.position="absolute",m.style.zIndex=""):(c=!0,this.selectedItem!==m&&(this.selectedItem&&this.removeClass(this.selectedItem,"tin-slide-selected"),this.selectedItem=m,this.addClass(m,"tin-slide-selected"),!(this.settings.useUpdateContainerHeight||this.settings.ratio||this.settings.hasHeight)&&(m.style.position="relative"),this.settings.zIndex&&(m.style.zIndex=this.settings.zIndex),this.settings.moveSelectedItem&&(this.container.removeChild(m),this.container.appendChild(m)),r.emit("itemSelected",{index:m.tinSlideIndex,item:m})))}for(n in this.itemsVisible)null===this.itemsVisible[n]&&(delete this.itemsVisible[n],m=this.items[n],this.hideOrShowElement(m,!0),m.style.position="absolute",m.style.zIndex="");this.applySlideEffect()},next:function next(e){var t=!1;if(1<this.items.length&&(!0!==e&&this.settings.autoPlay.stopOnNavigation&&this.stopAuto(),!this.timerSwipe||this.swipeXAbs<this.settings.swipe.releaseRequiredSwipeX))if(this.settings.loop||this.targetIndex<this.numItems-1)this.targetIndex++,this.targetVal=this.targetIndex,this.animateToTarget(),t=!0;else if(!e&&this.settings.useNonLoopingHint){this.targetVal=this.numItems-1+.05,this.animateToTarget();var i=this;this.timerNonLoopingHint=setTimeout(function(){i.targetVal=i.targetIndex,i.animateToTarget()},200)}return t},previous:function previous(e){var t=!1;if(1<this.items.length&&(!0!==e&&this.settings.autoPlay.stopOnNavigation&&this.stopAuto(),!this.timerSwipe||this.swipeXAbs<this.settings.swipe.releaseRequiredSwipeX))if(this.settings.loop||0<this.targetIndex)this.targetIndex--,this.targetVal=this.targetIndex,this.animateToTarget(),t=!0;else if(!e&&this.settings.useNonLoopingHint){this.targetVal=-.05,this.animateToTarget();var i=this;this.timerNonLoopingHint=setTimeout(function(){i.targetVal=i.targetIndex,i.animateToTarget()},200)}return t},onSwipePress:function onSwipePress(e){if(1<this.items.length){var t="touchstart"===e.type;if("A"===e.target.nodeName)return;var i=e;if(void 0!==i.button&&2===i.button||void 0!==i.which&&3===i.which)return;this.swipePressX=t?e.touches[0].clientX:e.clientX,this.swipeX=0,this.swipeXAbs=0,this.settings.swipe.pressMoveBeforeInvokeGrabbing?(document.addEventListener("touchmove",this.onSwipePressMove),document.addEventListener("mousemove",this.onSwipePressMove),document.addEventListener("touchend",this.clearSwipePressMove),document.addEventListener("mouseup",this.clearSwipePressMove)):this.onTimerSwipePress(),(this.loop||0<this.targetIndexWithinBounds&&this.targetIndexWithinBounds<this.numItems-1)&&e.stopPropagation()}},onSwipePressMove:function onSwipePressMove(){this.clearSwipePressMove(),this.onTimerSwipePress()},clearSwipePressMove:function clearSwipePressMove(){document.removeEventListener("touchmove",this.onSwipePressMove),document.removeEventListener("mousemove",this.onSwipePressMove),document.removeEventListener("touchend",this.clearSwipePressMove),document.removeEventListener("mouseup",this.clearSwipePressMove)},onTimerSwipePress:function onTimerSwipePress(){this.settings.swipe.touchOnly||(this.container.style.cssText+="; cursor: -webkit-grabbing; cursor: grabbing;"),clearTimeout(this.timerNonLoopingHint),this.settings.autoPlay.stopOnNavigation&&this.pauseAuto(),this.timerAnimate&&(cancelAnimationFrame(this.timerAnimate),this.timerAnimate=0);for(var e=0,t=this.step,n=0;25>n;n++)t*=this.settings.swipe.stepFactor,e+=t;this.swipePressPointerVal=this.pointerVal+e,this.swipeTargetVal=this.swipePressPointerVal,document.addEventListener("touchmove",this._onSwipeMove),document.addEventListener("touchend",this._onSwipeRelease),this.settings.swipe.touchOnly||(document.addEventListener("mousemove",this._onSwipeMove),document.addEventListener("mouseup",this._onSwipeRelease)),this.startSwipeTimer()},onSwipeMove:function onSwipeMove(e){if(void 0===e.tinSlideMoved){var i="touchmove"===e.type;this.swipeIsTouch=i;var s=this.getContainerWidth();if(s){if(i&&void 0!==e.target&&e.target!==this.container){var o=e.target;if(o.scrollWidth>o.offsetWidth&&(this.swipeScrollsElementCounter++,4>this.swipeScrollsElementCounter||0<o.scrollLeft&&o.scrollLeft+o.offsetWidth<o.scrollWidth))return void(e.tinSlideMoved=this)}var t=i?e.touches[0].clientX:e.clientX;if(void 0===t)return;void 0===this.swipePressX&&(this.swipePressX=t),this.swipeX=this.swipePressX-t,this.swipeXAbs=0>this.swipeX?-this.swipeX:this.swipeX,!this.swipePreventDefault&&10<this.swipeXAbs&&(this.swipePreventDefault=!0);var r=this.swipePressPointerVal+this.swipeX/s;if(!this.settings.loop){var a=this.settings.useNonLoopingHint?.05:0;r<-a?r=-a:r>this.numItems-1+a?r=this.numItems-1+a:e.tinSlideMoved=this}else e.tinSlideMoved=this;this.swipeTargetVal=r;var d=n(this.swipeTargetVal)%this.numItems;0>d&&(d+=this.numItems),this.targetIndexWithinBounds=d,this.updateDots()}}},onSwipeRelease:function onSwipeRelease(e){var t=Math.ceil;if(document.removeEventListener("touchmove",this._onSwipeMove),document.removeEventListener("touchend",this._onSwipeRelease),this.settings.swipe.touchOnly||(document.removeEventListener("mousemove",this._onSwipeMove),document.removeEventListener("mouseup",this._onSwipeRelease),this.container.style.cssText+="; cursor: -webkit-grab; cursor: grab;"),this.swipePreventDefault=!1,this.swipeScrollsElementCounter=0,this.swipeXAbs>=this.settings.swipe.releaseRequiredSwipeX){var o,r=.04;if(this.step<-r)this.settings.autoPlay.stopOnNavigation&&this.stopAuto(),o=s(this.pointerVal);else if(this.step>r)this.settings.autoPlay.stopOnNavigation&&this.stopAuto(),o=t(this.pointerVal);else{for(var a=15*this.step,d=this.step,l=0;80>l;l++)d*=this.settings.swipe.stepFactor,a+=d;1<a?a=1:-1>a&&(a=-1);var p=this.pointerVal+a;o=n(p),this.settings.autoPlay.stopOnNavigation&&(o===this.targetIndex?"touchend"===e.type&&this.resumeAuto():this.stopAuto())}this.choke=1,setTimeout(function(){this.timerSwipe&&(cancelAnimationFrame(this.timerSwipe),this.timerSwipe=0),this.targetIndex=o,this.targetVal=this.targetIndex,this.animateToTarget()}.bind(this),1)}else cancelAnimationFrame(this.timerSwipe),this.timerSwipe=0,"touchend"===e.type&&this.resumeAuto()},startSwipeTimer:function startSwipeTimer(){this.timerSwipe||(this.timerSwipe=requestAnimationFrame(this._onTimerSwipe))},onTimerSwipe:function onTimerSwipe(){var e=this.pointerVal,t=this.swipeTargetVal-e,i=t*(this.swipeIsTouch?this.settings.swipe.stepFactorTouch:this.settings.swipe.stepFactor);this.step=i,this.stepAbs=0>this.step?-this.step:this.step,e+=i,this.setPointer(e),this.timerSwipe=requestAnimationFrame(this._onTimerSwipe)},getContainerWidth:function getContainerWidth(){return this.containerWidth||(this.containerWidth=e.offsetWidth),this.containerWidth},animateTo:function animateTo(e){this.targetIndex=e%this.numItems,0>this.targetIndex&&(this.targetIndex+=this.numItems),this.targetIndexWithinBounds=this.targetIndex,this.updateDots();var t=this.pointerVal%this.numItems;if(this.settings.loop){var i=t-this.targetIndex;i>this.numHalfItems?t-=this.numItems:i<-this.numHalfItems&&(t+=this.numItems)}this.pointerVal=t,this.targetVal=this.targetIndex,this.animateToTarget()},animateToTarget:function animateToTarget(){clearTimeout(this.timerNonLoopingHint);var e=this.targetIndex%this.numItems;0>e&&(e+=this.numItems),this.targetIndexWithinBounds=e,this.updateDots(),this.settings.useUpdateContainerHeight&&this.updateContainerHeight(),this.timerAnimate||(this.timerAnimate=requestAnimationFrame(this._onAnimationTimer))},onAnimationTimer:function onAnimationTimer(){var e=this.pointerVal,t=this.targetVal-e,i=0>t?-t:t;if(i<this.settings.stepSnap)this.step=this.stepAbs=0,this.setPointer(this.targetVal),cancelAnimationFrame(this.timerAnimate),this.timerAnimate=0;else{var n=t*this.settings.stepFactor;if(0<=n*this.step){if(this.step=t*this.settings.stepFactor,1>this.choke&&(this.choke=this.choke*this.settings.chokeReleaseFactor+(this.choke||this.settings.chokeReleaseStep?this.settings.chokeReleaseStep:.05)),this.choke>i&&(this.choke=i*(.5+this.settings.chokeReturnFactor)),1<this.choke&&(this.choke=1),this.step>this.settings.stepMin||this.step<-this.settings.stepMin){var s=this.choke*this.settings.stepMax;this.step>s?this.step=s:this.step<-s&&(this.step=-s),this.step>this.settings.stepMin||this.step<-this.settings.stepMin||(this.step=this.settings.stepMin*(0>this.step?-1:1))}this.stepAbs=0>this.step?-this.step:this.step,e+=this.step}else n=this.step*(1-this.settings.stepTurnBreakFactor),this.step=n>this.settings.stepSnap||n<-this.settings.stepSnap?n:0,e+=n;this.stepAbs=0>this.step?-this.step:this.step,this.setPointer(e),this.timerAnimate=requestAnimationFrame(this._onAnimationTimer)}},goTo:function goTo(e){clearTimeout(this.timerNonLoopingHint),this.settings.autoPlay.stopOnNavigation&&this.stopAuto(),this.timerAnimate&&(cancelAnimationFrame(this.timerAnimate),this.timerAnimate=0),this.targetIndex=e%this.numItems,0>this.targetIndex&&(this.targetIndex+=this.numItems),this.targetIndexWithinBounds=this.targetIndex,this.updateDots(),this.settings.useUpdateContainerHeight&&this.updateContainerHeight(),this.setPointer(this.targetIndexWithinBounds)},updateContainerHeight:function updateContainerHeight(e){var t;if(void 0!==e)this.doUpdateContainerHeight(e),t=this.getParentSlides().reverse(),t.length&&t[0].updateContainerHeight(this.containerHeight);else if(t=this.getParentSlides(),t.length)t[0].updateContainerHeight();else{var i=this.getSubSlides();i.length?i[0].updateContainerHeightFromParent():this.doUpdateContainerHeight()}},doUpdateContainerHeight:function doUpdateContainerHeight(e){this.container.getAttribute("id");void 0===e&&(e=0);var t=this.items[this.targetIndexWithinBounds].offsetHeight;t||(this.items[this.targetIndexWithinBounds].style.display="block",t=this.items[this.targetIndexWithinBounds].offsetHeight),t<e&&(t=e),0<t&&this.containerHeight!==t&&(this.containerHeight=t,this.css(this.container,{height:t+"px"}))},updateContainerHeightFromParent:function updateContainerHeightFromParent(){this.updateContainerHeight(0)},getParentSlides:function getParentSlides(){function e(i){i.parentNode&&void 0!==i.parentNode&&(void 0!==i.parentNode.tinSlide&&t.push(i.parentNode.tinSlide),e(i.parentNode))}var t=[];return e(this.container),t.reverse()},getSubSlides:function getSubSlides(){function e(s){for(var o=0,r=s.childNodes.length;o<r;o++)void 0===s.childNodes[o].tinSlide?e(s.childNodes[o]):(t.push(s.childNodes[o].tinSlide),e(s.childNodes[o].tinSlide.getCurrentItem()))}var t=[];return e(this.items[this.targetIndexWithinBounds]),t.reverse()},applySlideEffect:function applySlideEffect(){for(var e in this.itemsVisible){var t=this.items[e],i=this.itemsVisible[e],n=0>i?-i:i,s=[];if(this.settings.effects.slideHorizontal.on){var o=i-this.translateXOffsetProgress,r=100*this.settings.effects.slideHorizontal.offset*-o+"%",a=this.settings.verticallyCenter?"-50%":0;s.push("translate3d("+r+", "+a+", 0)"),.75<o||o<-(this.settings.effects.slideHorizontal.numVisible-.25)?void 0===this.itemsOutside[e]&&(this.itemsOutside[e]=t,this.addClass(t,"tin-slide-outside")):void 0!==this.itemsOutside[e]&&(delete this.itemsOutside[e],this.removeClass(t,"tin-slide-outside"))}if(this.settings.effects.scale.on){var d;if(n<this.settings.effects.scale.maxAt)d=this.settings.effects.scale.max;else if(n<this.settings.effects.scale.minAt){var l=1-(n-this.settings.effects.scale.maxAt)/(this.settings.effects.scale.minAt-this.settings.effects.scale.maxAt);d=this.settings.effects.scale.min+l*(this.settings.effects.scale.max-this.settings.effects.scale.min)}else d=this.settings.effects.scale.min;s.push("scale("+d+", "+d+")")}if(s.length?t.style.transform=s.join(" "):""!==t.style.transform&&(t.style.transform=""),this.settings.effects.fade.on){var p;if(n<this.settings.effects.fade.maxAt)p=this.settings.effects.fade.max;else if(n<this.settings.effects.fade.minAt){var m=1-(n-this.settings.effects.fade.maxAt)/(this.settings.effects.fade.minAt-this.settings.effects.fade.maxAt);p=this.settings.effects.fade.min+m*(this.settings.effects.fade.max-this.settings.effects.fade.min)}else p=this.settings.effects.fade.min;t.style.opacity=p}else""!==t.style.opacity&&(t.style.opacity="")}this.settings.effects.motionBlur.on&&this.applyBlur()},applyBlur:function applyBlur(){var e=this.stepAbs-this.settings.effects.motionBlur.stepMin;0>e&&(e=0);var t=e*this.settings.effects.motionBlur.factor;t>this.settings.effects.motionBlur.maxPixels&&(t=this.settings.effects.motionBlur.maxPixels);var i=t?"blur("+t+"px)":"";for(var n in this.itemsVisible)this.items[n].style.filter=i},updateDots:function updateDots(){if(this.dots&&this.currentDotIndex!==this.targetIndexWithinBounds){var e;null!==this.currentDotIndex&&(e=this.dotsItems[this.currentDotIndex],e&&this.removeClass(e,"on")),this.currentDotIndex=this.targetIndexWithinBounds,e=this.dotsItems[this.currentDotIndex],e&&this.addClass(e,"on")}},onDotClick:function onDotClick(e){this.settings.autoPlay.stopOnNavigation&&this.stopAuto();var t=parseInt(e.target.getAttribute("tin-slide-index"),10);this.animateTo(t)},startAuto:function startAuto(){"stopped"===this.autoPlayState||"started"!==this.autoPlayState&&(this.autoPlayState="started",this.resumeAuto())},pauseAuto:function pauseAuto(){"stopped"===this.autoPlayState||this.autoPlayState&&(this.autoPlayState="paused",clearInterval(this.timerAutoPlay),this.timerAutoPlay=0)},resumeAuto:function resumeAuto(){"stopped"===this.autoPlayState||this.autoPlayState&&(this.autoPlayState="started",clearInterval(this.timerAutoPlay),this.timerAutoPlay=setInterval(function(){if(!this.timerSwipe&&this.container.clientHeight&&!this.hasClass(this.container,"window-hidden")){var e=this.autoPlayForwards?this.next(!0):this.previous(!0);e||(this.autoPlayForwards=!this.autoPlayForwards,e=this.autoPlayForwards?this.next(!0):this.previous(!0))}}.bind(this),this.settings.autoPlay.time))},stopAuto:function stopAuto(){"stopped"===this.autoPlayState||this.autoPlayState&&(this.pauseAuto(),this.autoPlayState="stopped")},imageLoaded:function imageLoaded(){this.settings.useUpdateContainerHeight&&this.updateContainerHeight()}};var d={};r={next:function next(){a.next()},previous:function previous(){a.previous()},animateTo:function animateTo(e){a.animateTo(e)},goTo:function goTo(e){a.goTo(e)},getDots:function getDots(){return a.dots?a.dots:a.createDots()},getNav:function getNav(){return a.nav?a.nav:a.createNav()},startAuto:function startAuto(){a.startAuto()},stopAuto:function stopAuto(){a.stopAuto()},updateContainerHeight:function updateContainerHeight(e){a.updateContainerHeight(e)},updateContainerHeightFromParent:function updateContainerHeightFromParent(){a.updateContainerHeightFromParent()},getCurrentItem:function getCurrentItem(){return a.items[a.targetIndexWithinBounds]},on:function on(e,t){"object"!==_typeof(d[e])&&(d[e]=[]),d[e].push(t)},removeListener:function removeListener(e,t){var i;"object"===_typeof(d[e])&&(i=d[e].indexOf(t),-1<i&&d[e].splice(i,1))},emit:function emit(e){var t,n,s,o=[].slice.call(arguments,1);if("object"===_typeof(d[e]))for(n=d[e].slice(),s=n.length,t=0;t<s;t++)n[t].apply(this,o)}},a.init(e,t),document.ondragstart=function(){return!1};var l=null;return"hidden"in document?(l="hidden",document.addEventListener("visibilitychange",o)):"mozHidden"in document?(l="mozHidden",document.addEventListener("mozvisibilitychange",o)):"webkitHidden"in document?(l="webkitHidden",document.addEventListener("webkitvisibilitychange",o)):"msHidden"in document?(l="msHidden",document.addEventListener("msvisibilitychange",o)):"onfocusin"in document?document.onfocusin=document.onfocusout=o:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=o,l&&void 0!==document[l]&&o({type:document[l]?"blur":"focus"}),e.tinSlide=r,r}return function(e){e&&e.prototype&&null==e.prototype.firstElementChild&&Object.defineProperty(e.prototype,"firstElementChild",{get:function get(){for(var e=this.childNodes,t=0,n=e[t++];n;){if(1===n.nodeType)return n;n=e[t++]}return null}})}(window.Node||window.Element),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),e});

//# sourceMappingURL=tin-slide.min.js.map