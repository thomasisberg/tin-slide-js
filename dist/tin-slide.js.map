{"version":3,"sources":["../src/js/tin-slide.js"],"names":["global","factory","exports","module","define","amd","TinSlide","window","TinSlide$","container","options","tinSlide","logic","defaultSettings","debug","effects","slideHorizontal","on","offset","numVisible","centerSelected","scale","min","max","minAt","maxAt","fade","motionBlur","maxPixels","stepMin","factor","useUpdateContainerHeight","verticallyCenter","useContainerClickNextPrev","swipe","touchOnly","stepFactor","stepFactorTouch","pressMoveBeforeInvokeGrabbing","releaseRequiredSwipeX","generate","dots","afterContainer","nav","styles","containerParentPosition","ratio","hasHeight","autoPlay","time","pauseOnHover","stopOnNavigation","loop","useNonLoopingHint","cropContainer","zIndex","hideItems","hideUsingVisibility","moveSelectedItem","stepSnap","stepMax","stepTurnBreakFactor","chokeReleaseStep","chokeReleaseFactor","chokeReturnFactor","settings","containerWidth","items","numItems","numHalfItems","pointer","pointerVal","selectedItem","numItemsInside","itemsVisible","itemsOutside","targetVal","targetIndex","targetIndexWithinBounds","timerAnimate","step","stepAbs","choke","containerHeight","timerUpdateContainerHeight","swipePressX","timerSwipePress","swipePressPointerVal","swipeTargetVal","timerSwipe","swipeX","swipeXAbs","swipePreventDefault","swipeIsTouch","swipeScrollsElementCounter","dotsItems","currentDotIndex","ratioPercent","timerAutoPlay","autoPlayState","autoPlayForwards","timerNonLoopingHint","translateXOffsetProgress","style","breakPoints","currentBreakPoint","init","onSwipePressMove","bind","clearSwipePressMove","item","i","n","v","element","src","body","document","getElementsByTagName","tinSlideImages","getElementsByClassName","tinSlideImagesArr","length","push","shift","img","createElement","getAttribute","undefined","setAttribute","srcset","bg","parentNode","replaceChild","tinSlideBackgrounds","tinSlideBackgroundsArr","tinSlideMarkup","tinSlideMarkupArr","template","innerHTML","firstElementChild","childNodes","nodeType","Node","ELEMENT_NODE","tinSlideIndex","position","hideOrShowElement","images","querySelectorAll","head","querySelector","link","rel","as","href","appendChild","_onAnimationTimer","onAnimationTimer","_onSwipePress","onSwipePress","_onSwipeRelease","onSwipeRelease","_onSwipeMove","onSwipeMove","_onTimerSwipe","onTimerSwipe","_pauseAuto","pauseAuto","_resumeAuto","resumeAuto","_imageLoaded","imageLoaded","_updateContainerHeight","updateContainerHeight","setOptions","width","parseInt","isNaN","sort","a","b","breakPointOptions","mergeObjects","cloneObject","updateBreakPoint","removeAttribute","addEventListener","event","preventDefault","passive","breakPoint","getBreakPoint","initSettings","w","getContainerWidth","top","left","overflow","paddingTop","layerX","offsetLeft","previous","next","setSwipeStyles","removeEventListener","height","createDots","insertBefore","nextSibling","removeChild","createNav","createStyles","firstChild","pauseElements","startAuto","setPointer","updateDots","j","imageStyles","css","removeCss","imageNodes","cssText","Array","isArray","addClass","className","classes","split","indexOf","join","removeClass","idx","splice","hasClass","hide","visibility","display","scope","type","original","clone","add","that","ul","liClickHandler","onDotClick","li","cursor","prev","val","index","visibleItems","visiblePointer","floorPointer","Math","floor","ceilPointer","len","relativeItem","progress","emit","applySlideEffect","isAuto","status","stopAuto","animateToTarget","setTimeout","isTouch","target","nodeName","nativeEvent","button","which","touches","clientX","onTimerSwipePress","stopPropagation","clearTimeout","cancelAnimationFrame","stepAdd","startSwipeTimer","tinSlideMoved","t","scrollWidth","offsetWidth","scrollLeft","currentX","round","limit","ceil","requestAnimationFrame","diff","animateTo","diffAbs","goTo","fromSubSlideWithHeight","parentSlides","getParentSlides","subSlides","getSubSlides","updateContainerHeightFromParent","doUpdateContainerHeight","reverse","minHeight","id","offsetHeight","slides","checkParentNode","checkChildNodes","getCurrentItem","progressAbs","transforms","translateXProgress","translateX","translateY","scaleFactor","transform","opacity","opacityFactor","applyBlur","blurFactor","blur","cssBlur","filter","dot","clearInterval","setInterval","clientHeight","events","getDots","getNav","eventType","listener","removeListener","listeners","args","slice","call","arguments","apply","ondragstart","documentHiddenName","onVisibilityChange","h","eventMap","focus","focusin","pageshow","focusout","pagehide","isHidden","onfocusin","onfocusout","onpageshow","onpagehide","onfocus","onblur","constructor","prototype","Object","defineProperty","get","nodes","node","Element","requestAnimFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback"],"mappings":"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","sourcesContent":["/*!\n * TinSlide v0.1.22\n * (c) 2018 Thomas Isberg\n * Released under the MIT License.\n */\n(function (global, factory) {\n    'use strict';\n\tif(typeof exports === 'object' && typeof module !== 'undefined') {\n        module.exports = factory();\n    }\n    else if(typeof define === 'function' && define.amd) {\n        define(factory);\n    }\n    else {\n        global.TinSlide = factory();\n    }\n}(this ? this : window, function () {\n    'use strict';\n\n    function TinSlide$(container, options) {\n\n        var tinSlide, logic;\n\n        logic = {\n\n            /*--------------------------------------------------\n            | Settings possible to override using options.\n            |-------------------------------------------------*/\n            defaultSettings: {\n                debug: false,\n                // Desired slide effects.\n                effects: {\n                    slideHorizontal: {\n                        on: true,\n                        offset: 1, // 0 - x\n                        numVisible: 1,\n                        centerSelected: false\n                    },\n                    scale: {\n                        on: false,\n                        min: 0.8,   // 0 - x\n                        max: 1,     // 0 - x\n                        minAt: 1.0, // 0 - 1\n                        maxAt: 0.0  // 0 - 1\n                    },\n                    fade: {\n                        on: false,\n                        min: 0,     // 0 - 1\n                        max: 1,     // 0 - 1\n                        minAt: 1.0, // 0 - 1\n                        maxAt: 0    // 0 - 1\n                    },\n                    motionBlur: {\n                        on: false,\n                        maxPixels: 2,\n                        stepMin: 0.05,\n                        factor: 500\n                    }\n                },\n                // If container height should actively match item height.\n                useUpdateContainerHeight: false,\n                // Vertically center slides.\n                verticallyCenter: false,\n                // Optional next / prev navigation on container click.\n                useContainerClickNextPrev: false,\n                // Swipe navigation.\n                swipe: {\n                    on: true,\n                    // Disable swipe using mouse.\n                    touchOnly: false,\n                    // Step factor every step when swiping. Applied on step to target.\n                    stepFactor: 0.25,\n                    // Same as above, but for touch swipe. Generally nicer with a faster response.\n                    stepFactorTouch: 0.75,\n                    // Optionally wait for move before invoke grabbing.\n                    // Useful if the entire container is clickable.\n                    // Especially if clicking either half navigates to previous / next.\n                    pressMoveBeforeInvokeGrabbing: false,\n                    releaseRequiredSwipeX: 0,\n                },\n                // Optionally generate markup.\n                generate: {\n                    dots: {\n                        on: true,\n                        afterContainer: true\n                    },\n                    nav: {\n                        on: true,\n                        afterContainer: true\n                    },\n                    styles: {\n                        on: true,\n                        containerParentPosition: \"relative\"\n                    }\n                },\n                // Optional ratio.\n                ratio: null,\n                // If slider has height (separate CSS) we can absolute position all slides.\n                hasHeight: false,\n                // Auto play.\n                autoPlay: {\n                    on: false,\n                    time: 5000,\n                    pauseOnHover: true,\n                    stopOnNavigation: true\n                },\n                // Loop\n                loop: true,\n                // Non looping next / prev animation when end reached.\n                useNonLoopingHint: true,\n                // Option to crop container (or not).\n                cropContainer: true,\n                // Base z-index. Slider will get base z, active slide +1.\n                // Overlying navigation can be set to higher in separate CSS.\n                // Disable zIndex by setting zIndex to 0.\n                zIndex: 0,\n                hideItems: true,\n                // Hide using visibility:hidden instead of display:none.\n                // Useful if images aren't loaded as desired.\n                hideUsingVisibility: false,\n                // Removes selected item from dom, and appends it to the parent as last child.\n                moveSelectedItem: false,\n                // Minimal amount of step required to reach target.\n                stepSnap: 0.0003,\n                // Step factor every step. Applied on step to target.\n                stepFactor: 0.2,\n                // Max step every step.\n                stepMax: 0.20,\n                // Minimum step.\n                stepMin: 0.0004,\n                // 0 - 1\n                // 0 = No break (will never turn).\n                // 1 = Instant break  turns immediately.\n                stepTurnBreakFactor: 0.5,\n                // Choke is increased by this value every step.\n                chokeReleaseStep: 0.05,\n                // Choke is multiplied by this value every step.\n                chokeReleaseFactor: 1.5,\n                // 0 - X\n                // 0 = Slow break towards target. Higher values breaks harder.\n                // Brings back choke when target is approached.\n                // Distance to target multiplied by this value = choke.\n                // This is what makes the slider break in on target.\n                chokeReturnFactor: 2\n                // // Break points allows for completely different settings\n                // // at desired sliders widths (break points). Pass object\n                // // with break point as key and settings aso bject as value,\n                // // for example {400: {}}\n                // breakPoints: null,\n            },\n            // Settings for current break point.\n            settings: {},\n\n            /*--------------------------------------------------\n            | Local working variables.\n            |-------------------------------------------------*/\n            container: null,\n            containerWidth: 0,\n            items: [],\n            numItems: 0,\n            numHalfItems: 0,\n            pointer: 0,\n            pointerVal: 0,\n            selectedItem: null,\n            numItemsInside: 1,\n            itemsVisible: {},\n            itemsOutside: {},\n            targetVal: 0,\n            targetIndex: 0,\n            targetIndexWithinBounds: 0,\n            timerAnimate: 0,\n            // Last step.\n            step: 0,\n            // Last step absolute value.\n            stepAbs: 0,\n            // Chokes acceleration.\n            // Is always between 0 and 1.\n            // Is increased on every step upon acceleration (up to 1).\n            // Applied max step every step is stepMax * choke.\n            choke: 0,\n            containerHeight: 0,\n            timerUpdateContainerHeight: 0,\n            swipePressX: 0,\n            timerSwipePress: 0,\n            swipePressPointerVal: 0,\n            swipeTargetVal: 0,\n            timerSwipe: 0,\n            swipeX: 0,\n            swipeXAbs: 0,\n            swipePreventDefault: false,\n            swipeIsTouch: false,\n            swipeScrollsElementCounter: 0,\n            // Dots.\n            dotsItems: null,\n            currentDotIndex: null,\n            // Next / prev.\n            nav: null,\n            ratioPercent: null,\n            timerAutoPlay: 0,\n            autoPlayState: null,\n            autoPlayForwards: true,\n            timerNonLoopingHint: 0,\n            translateXOffsetProgress: 0,\n            // Generated styles element.\n            style: null,\n            breakPoints: [],\n            currentBreakPoint: {},\n\n            /**\n             *  Methods.\n             */\n            init: function(container, options) {\n\n                this.onSwipePressMove = this.onSwipePressMove.bind(this);\n                this.clearSwipePressMove = this.clearSwipePressMove.bind(this);\n\n                this.container = container;\n                var item, i, n, v, element, src;\n                this.body = document.getElementsByTagName('body')[0];\n\n                /*--------------------------------------------------\n                | Replace all .tin-slide-image elements.\n                |-------------------------------------------------*/\n                var tinSlideImages = container.getElementsByClassName('tin-slide-img');\n                var tinSlideImagesArr = [];\n                for(i=0, n=tinSlideImages.length; i<n; i++) {\n                    tinSlideImagesArr.push(tinSlideImages[i]);\n                }\n                while(tinSlideImagesArr.length) {\n                    element = tinSlideImagesArr.shift();\n                    var img = document.createElement('img');\n                    src = element.getAttribute('data-src');\n                    if(src && src !== undefined && src !== '') {\n                        img.setAttribute('src', src);\n                    }\n                    var srcset = element.getAttribute('data-srcset');\n                    if(srcset && srcset !== undefined && srcset !== '') {\n                        img.setAttribute('srcset', srcset);\n                    }\n                    var bg = element.getAttribute('data-bg');\n                    if(bg && bg !== undefined && bg !== '') {\n                        img.setAttribute('style', 'background: url(\"'+bg+'\") no-repeat center; background-size: cover;');\n                    }\n                    element.parentNode.replaceChild(img, element);\n                }\n\n                /*--------------------------------------------------\n                | Add background image to all\n                | .tin-slide-background elements.\n                |-------------------------------------------------*/\n                var tinSlideBackgrounds = container.getElementsByClassName('tin-slide-bg');\n                var tinSlideBackgroundsArr = [];\n                for(i=0, n=tinSlideBackgrounds.length; i<n; i++) {\n                    tinSlideBackgroundsArr.push(tinSlideBackgrounds[i]);\n                }\n                while(tinSlideBackgroundsArr.length) {\n                    element = tinSlideBackgroundsArr.shift();\n                    src = element.getAttribute('data-bg');\n                    if(src && src !== undefined && src !== '') {\n                        element.setAttribute('style', 'background: url(\"'+src+'\") no-repeat center; background-size: cover;');\n                    }\n                }\n\n                /*--------------------------------------------------\n                | Replace all .tin-slide-markup elements.\n                |-------------------------------------------------*/\n                var tinSlideMarkup = container.getElementsByClassName('tin-slide-markup');\n                var tinSlideMarkupArr = [];\n                for(i=0, n=tinSlideMarkup.length; i<n; i++) {\n                    tinSlideMarkupArr.push(tinSlideMarkup[i]);\n                }\n                while(tinSlideMarkupArr.length) {\n                    element = tinSlideMarkupArr.shift();\n                    var template = document.createElement('div');\n                    template.innerHTML = element.getAttribute('data-markup');\n                    element.parentNode.replaceChild(template.firstElementChild, element);\n                }\n\n                /*--------------------------------------------------\n                | Traverse children and create slider items.\n                |-------------------------------------------------*/\n                var items = [];\n                for(i=0, n=this.container.childNodes.length; i<n; i++) {\n                    item = this.container.childNodes[i];\n                    if(item.nodeType === Node.ELEMENT_NODE) {\n                        items.push(item);\n                    }\n                }\n                this.items = items;\n                this.numItems = this.items.length;\n                this.numHalfItems = this.numItems / 2;\n\n                for(i=0; i<this.numItems; i++) {\n                    item = this.items[i];\n                    item.tinSlideIndex = i;\n                    // Hide all items\n                    item.style.position = 'absolute';\n                    this.hideOrShowElement(item, true, options);\n                }\n\n                /*--------------------------------------------------\n                | Preload images.\n                |-------------------------------------------------*/\n                var images = this.container.querySelectorAll('img');\n                if (images.length) {\n                    var head = document.querySelector('head');\n                    for (var i=0; i<images.length; i++) {\n                        var img = images[i];\n                        var src = img.getAttribute('src');\n                        if (src) {\n                            var link = document.createElement('link');\n                            link.rel = 'preload';\n                            link.as = 'image';\n                            link.href = src;\n                            head.appendChild(link);\n                        }\n                    }\n                }\n\n                /*--------------------------------------------------\n                | Create functions bound to this scope.\n                |-------------------------------------------------*/\n                this._onAnimationTimer = this.onAnimationTimer.bind(this);\n                this._onSwipePress = this.onSwipePress.bind(this);\n                this._onSwipeRelease = this.onSwipeRelease.bind(this);\n                this._onSwipeMove = this.onSwipeMove.bind(this);\n                this._onTimerSwipe = this.onTimerSwipe.bind(this);\n                this._pauseAuto = this.pauseAuto.bind(this);\n                this._resumeAuto = this.resumeAuto.bind(this);\n                this._imageLoaded = this.imageLoaded.bind(this);\n                this._updateContainerHeight = this.updateContainerHeight.bind(this);\n\n                /*--------------------------------------------------\n                | Store default settings with standard options.\n                |-------------------------------------------------*/\n                if(options !== undefined) {\n                    this.setOptions(this.defaultSettings, options);\n\n                    /*--------------------------------------------------\n                    | Create sorted array with break points.\n                    |-------------------------------------------------*/\n                    if(options.breakPoints !== undefined) {\n                        for(v in options.breakPoints) {\n                            var width = parseInt(v, 10);\n                            if(!isNaN(width)) {\n                                this.breakPoints.push({\n                                    width: width,\n                                    options: options.breakPoints[v]\n                                });\n                            }\n                        }\n                        this.breakPoints.sort(function(a, b) {\n                            return a.width-b.width;\n                        });\n                        // Create merged options objects.\n                        var breakPointOptions = {};\n                        for(i=0; i<this.breakPoints.length; i++) {\n                            this.mergeObjects(breakPointOptions, this.breakPoints[i].options);\n                            this.breakPoints[i].options = this.cloneObject(breakPointOptions, {});\n                        }\n                    }\n                }\n\n                container.style.position = 'relative';\n\n                /*--------------------------------------------------\n                | Settings for current break point\n                | (or none / default).\n                |-------------------------------------------------*/\n                this.updateBreakPoint();\n\n                // for(i=0; i<this.numItems; i++) {\n                //     this.hideOrShowElement(item, true);\n                // }\n\n                for(i=0; i<this.numItems; i++) {\n                    item = this.items[i];\n                    item.removeAttribute('tin-slide-cloak');\n                }\n                container.removeAttribute('tin-slide-cloak');\n\n                /**\n                 * Listen for images loaded.\n                 */\n                var images = this.container.querySelectorAll('img');\n                for(i=0; i<images.length; i++) {\n                    images[i].addEventListener('load', this._imageLoaded);\n                }\n\n                // Force recalculation of container width on window resize.\n                // Calculation will occur when width is needed.\n                window.addEventListener('resize', function() {\n                    this.containerWidth = 0;\n                    this.updateBreakPoint();\n                }.bind(this));\n\n\n                document.addEventListener('touchmove', function(event) {\n                    if(this.swipePreventDefault) {\n                        event.preventDefault();\n                    }\n                }.bind(this), {\n                    passive: false\n                });\n            },\n            /*--------------------------------------------------\n            | Set break point.\n            |-------------------------------------------------*/\n            updateBreakPoint: function() {\n                var breakPoint = this.getBreakPoint();\n                if(breakPoint === this.currentBreakPoint) {\n                    return;\n                }\n                this.currentBreakPoint = breakPoint;\n                if(breakPoint) {\n                    this.container.setAttribute('tin-slide-break-point', breakPoint.width);\n                    this.initSettings(breakPoint.options);\n                }\n                else {\n                    this.container.removeAttribute('tin-slide-break-point');\n                    this.initSettings();\n                }\n            },\n            /*--------------------------------------------------\n            | Get break point options.\n            |-------------------------------------------------*/\n            getBreakPoint: function() {\n                var breakPoint = null;\n                var i, n, w = this.getContainerWidth();\n                for(i=0, n=this.breakPoints.length; i<n; i++) {\n                    if(w >= this.breakPoints[i].width) {\n                        breakPoint = this.breakPoints[i];\n                    }\n                    else {\n                        break;\n                    }\n                }\n                return breakPoint;\n            },\n            /*--------------------------------------------------\n            | Initialize settings for break point (or default).\n            |-------------------------------------------------*/\n            initSettings: function(breakPointOptions) {\n                if(breakPointOptions === undefined) {\n                    this.settings = this.defaultSettings;\n                }\n                else {\n                    var settings = this.cloneObject(this.defaultSettings, {});\n                    this.setOptions(settings, breakPointOptions);\n                    this.settings = settings;\n                }\n\n                var i, n, item;\n\n                for(i=0; i<this.numItems; i++) {\n                    item = this.items[i];\n\n                    // Item styles\n                    item.style.top = !this.settings.verticallyCenter ? '0' : '50%';\n                    item.style.left = '0';\n                    item.style.width = (this.settings.effects.slideHorizontal.on ? (100/this.settings.effects.slideHorizontal.numVisible) : 100)+'%';\n                }\n\n                /**\n                 *  Container styles.\n                 */\n                if(this.settings.cropContainer) {\n                    this.container.style.overflow = 'hidden';\n                }\n                else if(this.container.style.overflow === 'hidden') {\n                    this.container.style.overflow = '';\n                }\n                if(this.settings.ratio) {\n                    this.settings.ratioPercent = 100 * (1/this.settings.ratio);\n                    this.container.style.paddingTop = this.settings.ratioPercent+'%';\n                }\n                else if(this.container.style.paddingTop !== '') {\n                    this.container.style.paddingTop = '';\n                }\n                if(this.settings.zIndex) {\n                    this.container.style.zIndex = this.settings.zIndex;\n                }\n                else if(this.container.style.zIndex !== '') {\n                    this.container.style.zIndex = '';\n                }\n\n                /*--------------------------------------------------\n                | Set container click navigation.\n                |-------------------------------------------------*/\n                if(this.settings.useContainerClickNextPrev) {\n                    this.container.addEventListener('mouseup', function(event) {\n                        var containerWidth = this.getContainerWidth();\n                        if(containerWidth) {\n                            if((event.layerX - this.container.offsetLeft) < containerWidth / 2) {\n                                this.previous();\n                            }\n                            else {\n                                this.next();\n                            }\n                        }\n                    }.bind(this));\n                }\n\n                /*--------------------------------------------------\n                | Set up swipe navigation.\n                |-------------------------------------------------*/\n                if(this.items.length > 1) {\n                    this.setSwipeStyles();\n\n                    this.container.removeEventListener('touchstart', this._onSwipePress);\n                    this.container.removeEventListener('mousedown', this._onSwipePress);\n                    if(this.settings.swipe.on) {\n                        this.container.addEventListener('touchstart', this._onSwipePress);\n                        if(!this.settings.swipe.touchOnly) {\n                            this.container.addEventListener('mousedown', this._onSwipePress);\n                        }\n                    }\n                }\n\n                /*--------------------------------------------------\n                | If container height should always\n                | match selected item.\n                |-------------------------------------------------*/\n                window.removeEventListener('resize', this._updateContainerHeight);\n                if(this.settings.useUpdateContainerHeight) {\n                    this.updateContainerHeight();\n                    window.addEventListener('resize', this._updateContainerHeight);\n                }\n                else {\n                    this.container.style.height = '';\n                }\n\n                /*--------------------------------------------------\n                | Store working variables for multiple items.\n                |-------------------------------------------------*/\n                this.numItemsInside = 1;\n                this.translateXOffsetProgress = 0;\n                if(this.settings.effects.slideHorizontal.on && this.settings.effects.slideHorizontal.numVisible > 1) {\n                    this.numItemsInside = this.settings.effects.slideHorizontal.numVisible;\n                    if(this.settings.effects.slideHorizontal.centerSelected) {\n                        this.translateXOffsetProgress = 0.5*(this.settings.effects.slideHorizontal.numVisible-1);\n                    }\n                }\n\n                /*--------------------------------------------------\n                | Generate markup.\n                |-------------------------------------------------*/\n                if(this.items.length > 1) {\n\n                    /*--------------------------------------------------\n                    | Generate dots.\n                    |-------------------------------------------------*/\n                    if(this.settings.generate.dots.on) {\n                        if(!this.dots) {\n                            this.dots = this.createDots();\n                        }\n                        this.container.parentNode.insertBefore(\n                            this.dots,\n                            this.settings.generate.dots.afterContainer ? this.container.nextSibling : this.container\n                        );\n                    }\n                    else {\n                        if(this.dots && this.dots.parentNode) {\n                            this.dots.parentNode.removeChild(this.dots);\n                        }\n                    }\n\n                    /*--------------------------------------------------\n                    | Generate nav.\n                    |-------------------------------------------------*/\n                    if(this.settings.generate.nav.on) {\n                        if(!this.nav) {\n                            this.nav = this.createNav();\n                        }\n                        this.container.parentNode.insertBefore(\n                            this.nav,\n                            this.settings.generate.nav.afterContainer ? this.container.nextSibling : this.container\n                        );\n                    }\n                    else {\n                        if(this.nav && this.nav.parentNode) {\n                            this.nav.parentNode.removeChild(this.nav);\n                        }\n                    }\n\n                    /*--------------------------------------------------\n                    | Generate default styles.\n                    |-------------------------------------------------*/\n                    if(this.settings.generate.styles.on) {\n                        if(this.settings.generate.styles.containerParentPosition) {\n                            this.container.parentNode.style.position = this.settings.generate.styles.containerParentPosition;\n                        }\n                        if(!this.style) {\n                            this.style = this.createStyles();\n                        }\n                        var head = document.getElementsByTagName('head')[0];\n                        head.insertBefore(this.style, head.firstChild);\n                    }\n                    else {\n                        if(this.style && this.style.parentNode) {\n                            this.style.parentNode.removeChild(this.style);\n                        }\n                    }\n                }\n\n                /*--------------------------------------------------\n                | Auto play.\n                |-------------------------------------------------*/\n                if(this.items.length > 1) {\n                    var pauseElements = [this.container];\n                    if(this.dots) {\n                        pauseElements.push(this.dots);\n                    }\n                    if(this.nav) {\n                        pauseElements.push(this.nav);\n                    }\n                    for(i=0; i<pauseElements.length; i++) {\n                        pauseElements[i].removeEventListener('mouseenter', this._pauseAuto);\n                        pauseElements[i].removeEventListener('mouseleave', this._resumeAuto);\n                    }\n                    this.pauseAuto();\n                    if(this.settings.autoPlay.on) {\n                        this.startAuto();\n                        if(this.settings.autoPlay.pauseOnHover) {\n                            for(i=0; i<pauseElements.length; i++) {\n                                pauseElements[i].addEventListener('mouseenter', this._pauseAuto);\n                                pauseElements[i].addEventListener('mouseleave', this._resumeAuto);\n                            }\n                        }\n                    }\n                }\n\n                this.selectedItem = null;\n\n                // Set slider to initial position.\n                // this.setPointer(this.targetIndex);\n                this.setPointer(this.pointerVal);\n\n                // Update dots.\n                this.updateDots();\n            },\n            setSwipeStyles: function() {\n                var i, n, j;\n                var styles = {\n                    'user-drag': 'none',\n                    'user-select': 'none',\n                    '-moz-user-select': 'none',\n                    '-webkit-user-drag': 'none',\n                    '-webkit-user-select': 'none',\n                    '-ms-user-select': 'none'\n                };\n                var imageStyles = {};\n                for(var v in styles) {\n                    imageStyles[v] = styles[v];\n                }\n                imageStyles['pointer-events'] = 'none';\n                for(i=0; i<this.numItems; i++) {\n                    if(this.settings.swipe.on) {\n                        this.css(this.items[i], styles);\n                    }\n                    else {\n                        this.removeCss(this.items[i], styles);\n                    }\n                    var imageNodes = this.items[i].getElementsByTagName('img');\n                    n = imageNodes.length;\n                    for(j=0; j<n; j++) {\n                        if(this.settings.swipe.on) {\n                            this.css(imageNodes[j], imageStyles);\n                        }\n                        else {\n                            this.removeCss(imageNodes[j], imageStyles);\n                        }\n                    }\n                }\n\n                if(this.settings.swipe.on && !this.settings.swipe.touchOnly) {\n                    this.container.style.cssText += '; cursor: -webkit-grab; cursor: grab;';\n                }\n                else {\n                    this.removeCss(this.container, ['cursor']);\n                }\n            },\n            css: function(element, styles) {\n                for(var style in styles) {\n                    element.style[style] = styles[style];\n                }\n            },\n            removeCss: function(element, styles) {\n                if(Array.isArray(styles)) {\n                    for(var i=0; i<styles.length; i++) {\n                        element.style[styles[i]] = '';\n                    }\n                }\n                else {\n                    for(var style in styles) {\n                        element.style[style] = '';\n                    }\n                }\n            },\n            addClass: function(element, className) {\n                var classes = element.className.split(' ');\n                if(classes.indexOf(className) === -1) {\n                    classes.push(className);\n                }\n                element.className = classes.join(' ');\n            },\n            removeClass: function(element, className) {\n                var classes = element.className.split(' ');\n                var idx = classes.indexOf(className);\n                if(idx !== -1) {\n                    classes.splice(idx, 1);\n                    element.className = classes.join(' ');\n                }\n            },\n            hasClass: function(element, className) {\n                var classes = element.className.split(' ');\n                return classes.indexOf(className) > -1;\n            },\n            hideOrShowElement: function(element, hide, options) {\n                if (!options) {\n                    options = this.settings;\n                }\n                if(options.hideUsingVisibility) {\n                    element.style.visibility = hide ? 'hidden' : 'visible';\n                }\n                else {\n                    element.style.display = hide ? 'none' : 'block';\n                }\n            },\n            /**\n             *  Recursively copies options.\n             */\n            setOptions: function(scope, options) {\n                for(var v in options) {\n                    var type = typeof scope[v];\n                    // Only store option if it is of correct type.\n                    if(type === typeof options[v] || scope[v] === null) {\n                        // Don't overwrite objects just copy the primitive values.\n                        if(type === 'object' && scope[v] !== null) {\n                            this.setOptions(scope[v], options[v]);\n                        }\n                        else {\n                            scope[v] = options[v];\n                        }\n                    }\n                }\n            },\n            cloneObject: function(original, clone) {\n                var v, i;\n                if(!Array.isArray(original)) {\n                    for(v in original) {\n                        if(typeof original[v] === 'object' && original[v] !== null) {\n                            clone[v] = Array.isArray(original[v]) ? [] : {};\n                            this.cloneObject(original[v], clone[v]);\n                        }\n                        else {\n                            clone[v] = original[v];\n                        }\n                    }\n                }\n                else {\n                    for(i=0; i<original.length; i++) {\n                        if(typeof original[i] === 'object' && settings[i] !== null) {\n                            clone.push(Array.isArray(original[v]) ? [] : {});\n                            this.cloneObject(original[i], clone[i]);\n                        }\n                        else {\n                            clone.push(original[i]);\n                        }\n                    }\n                }\n                return clone;\n            },\n            mergeObjects: function(original, add) {\n                var v, i;\n                for(v in add) {\n                    if(typeof add[v] === 'object' && add[v] !== null && !Array.isArray(add[v])) {\n                        if(typeof original[v] !== 'object' || original[v] === null || Array.isArray(original[v])) {\n                            original[v] = {};\n                        }\n                        this.mergeObjects(original[v], add[v]);\n                    }\n                    else {\n                        original[v] = add[v];\n                    }\n                }\n                return original;\n            },\n            createDots: function() {\n\n                /**\n                 *  Dots.\n                 */\n                var that = this;\n                var ul = document.createElement(\"UL\");\n                ul.setAttribute('class', 'tin-slide-dots');\n                var liClickHandler = function(event) {\n                    that.onDotClick(event);\n                };\n                this.dotsItems = [];\n                for(var i=0; i<this.numItems; i++) {\n                    var li = document.createElement('LI');\n                    li.setAttribute('class', 'tin-slide-dot-'+i);\n                    li.setAttribute('tin-slide-index', i);\n                    li.style.cursor = 'pointer';\n                    ul.appendChild(li);\n                    this.dotsItems.push(li);\n                    li.addEventListener('click', liClickHandler);\n                }\n                return ul;\n\n            },\n            createNav: function() {\n\n                /**\n                 *  Next / prev.\n                 */\n                var that = this;\n                var nav = document.createElement(\"NAV\");\n                nav.setAttribute('class', 'tin-slide-next-prev');\n\n                var prev = document.createElement(\"DIV\");\n                prev.setAttribute('class', 'tin-slide-prev');\n                prev.style.cursor = 'pointer';\n                // Added to prevent text selection from double click.\n                prev.addEventListener('mousedown', function(event) {\n                    event.preventDefault();\n                });\n                prev.addEventListener('click', function(event) {\n                    this.previous();\n                }.bind(this));\n                nav.appendChild(prev);\n\n                var next = document.createElement(\"DIV\");\n                next.setAttribute('class', 'tin-slide-next');\n                next.style.cursor = 'pointer';\n                // Added to prevent text selection from double click.\n                next.addEventListener('mousedown', function(event) {\n                    event.preventDefault();\n                });\n                next.addEventListener('click', function(event) {\n                    this.next();\n                }.bind(this));\n                nav.appendChild(next);\n\n                return nav;\n            },\n\n            createStyles: function() {\n                var styles = [];\n                styles.push(\".tin-slide-prev, .tin-slide-next {position: absolute;left: 10px;top: 50%;}\");\n                styles.push(\".tin-slide-prev:before, .tin-slide-prev:after, .tin-slide-next:before, .tin-slide-next:after {content: '';display: block;width: 0;height: 0;position: absolute;top: 0;-webkit-transform: translateY(-50%);-ms-transform: translateY(-50%);-o-transform: translateY(-50%);transform: translateY(-50%);}\");\n                styles.push(\".tin-slide-prev:before, .tin-slide-next:before {opacity: 0.1;-webkit-transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}\");\n                styles.push(\".tin-slide-prev:hover:before, .tin-slide-next:hover:before {opacity: 0;}\");\n                styles.push(\".tin-slide-prev:before {left: 0;border-top: 23px solid transparent;border-bottom: 23px solid transparent;border-right: 41px solid black;margin-left: -4px;}\");\n                styles.push(\".tin-slide-prev:after {left: 0;border-top: 20px solid transparent;border-bottom: 20px solid transparent;border-right: 35px solid rgba(255, 255, 255, 0.4);-webkit-transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}\");\n                styles.push(\".tin-slide-prev:hover:after {border-right-color: white;}\");\n                styles.push(\".tin-slide-next {left: inherit;right: 10px;}\");\n                styles.push(\".tin-slide-next:before {right: 0;border-top: 23px solid transparent;border-bottom: 23px solid transparent;border-left: 41px solid black;margin-right: -4px;}\");\n                styles.push(\".tin-slide-next:after {right: 0;border-top: 20px solid transparent;border-bottom: 20px solid transparent;border-left: 35px solid rgba(255, 255, 255, 0.4);-webkit-transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}\");\n                styles.push(\".tin-slide-next:hover:after {border-left-color: white;}\");\n                styles.push(\".tin-slide-dots {position: absolute;bottom: 10px;left: 50%;-webkit-transform: translateX(-50%);-ms-transform: translateX(-50%);-o-transform: translateX(-50%);transform: translateX(-50%);}\");\n                styles.push(\".tin-slide-dots li {-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;width: 16px;height: 16px;border-radius: 8px;background-color: transparent;border: 2px solid white;margin-right: 5px;opacity: 0.9;-webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);-webkit-transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}\");\n                styles.push(\".tin-slide-dots li:hover {background-color: rgba(255, 255, 255, 0.5);}\");\n                styles.push(\".tin-slide-dots li.on {background-color: white; }\");\n                styles.push(\".tin-slide-outside {pointer-events: none;}\");\n\n                var style = document.createElement('STYLE');\n                style.innerHTML = styles.join(\"\\n\");\n                return style;\n            },\n\n            /**\n             *  Update the slider.\n             */\n            setPointer: function(val) {\n\n                var i, index;\n\n                this.pointerVal = val;\n                var pointer = val % this.numItems;\n                if(pointer < 0 && this.settings.loop) {\n                    pointer += this.numItems;\n                }\n                this.pointer = pointer;\n\n                var visibleItems = [];\n\n                /*--------------------------------------------------\n                | If items should not be hidden,\n                | slide all items.\n                |-------------------------------------------------*/\n                if(!this.settings.hideItems) {\n                    for(i=0; i<this.numItems; i++) {\n                        visibleItems.push(this.items[i]);\n                    }\n                }\n                else {\n                    // Visible items first add the floor index.\n                    var visiblePointer = pointer - this.translateXOffsetProgress;\n                    // if(this.settings.effects.slideHorizontal.on && this.settings.effects.slideHorizontal.numVisible > 1 && this.settings.effects.slideHorizontal.centerSelected) {\n                    //     visiblePointer -= this.translateXOffsetProgress;\n                    // }\n                    if(visiblePointer < 0 && this.settings.loop) {\n                        visiblePointer += this.numItems;\n                    }\n                    var floorPointer = Math.floor(visiblePointer);\n                    if(floorPointer >= 0) {\n                        visibleItems.push(this.items[floorPointer]);\n                    }\n\n                    // Add ceil index if pointer is not at destination.\n                    for(i=1; i<=this.numItemsInside-(visiblePointer === floorPointer ? 1 : 0); i++) {\n                        // var ceilPointer = Math.ceil(this.pointer);\n                        var ceilPointer = floorPointer+i;\n                        if(this.settings.loop) {\n                            ceilPointer %= this.numItems;\n                        }\n                        if(ceilPointer < this.items.length && visibleItems.indexOf(this.items[ceilPointer]) === -1) {\n                            visibleItems.push(this.items[ceilPointer]);\n                        }\n                    }\n                }\n\n                // Mark previously visible items for check.\n                for(index in this.itemsVisible) {\n                    this.itemsVisible[index] = null;\n                }\n                var item;\n                var len=visibleItems.length;\n                var relativeItem = false;\n                for(i=0; i<len; i++) {\n                    item = visibleItems[i];\n                    // If previously non visible item becomes visible.\n                    if(this.itemsVisible[item.tinSlideIndex] === undefined) {\n                        this.hideOrShowElement(item, false);\n                    }\n                    // Store progress.\n                    var progress = this.pointer - item.tinSlideIndex;\n                    if(!this.translateXOffsetProgress) {\n                        if(progress > 1) {\n                            progress -= this.numItems;\n                        }\n                    }\n                    else {\n                        if(progress > this.numHalfItems) {\n                            progress -= this.numItems;\n                        }\n                        else if(progress < -this.numHalfItems) {\n                            progress += this.numItems;\n                        }\n                    }\n                    this.itemsVisible[item.tinSlideIndex] = progress;\n\n                    // Make the most visible item relatively positioned,\n                    // and put it in front of the others.\n                    if(!(progress > 0.5 || progress < -0.5) && !relativeItem) {\n                        relativeItem = true;\n\n                        // If new item becomes selected.\n                        if(this.selectedItem !== item) {\n                            // Remove selected class from previously selected.\n                            if(this.selectedItem) {\n                                this.removeClass(this.selectedItem, 'tin-slide-selected');\n                            }\n                            this.selectedItem = item;\n                            this.addClass(item, 'tin-slide-selected');\n\n                            // All slides absolute positioned if slider has a defined height\n                            // (in separate CSS) or ratio.\n                            if(!(this.settings.useUpdateContainerHeight || this.settings.ratio || this.settings.hasHeight)) {\n                                item.style.position = 'relative';\n                            }\n                            if(this.settings.zIndex) {\n                                item.style.zIndex = this.settings.zIndex;\n                            }\n                            if(this.settings.moveSelectedItem) {\n                                this.container.removeChild(item);\n                                this.container.appendChild(item);\n                            }\n\n                            /*--------------------------------------------------\n                            | Emit event with selected item.\n                            |-------------------------------------------------*/\n                            tinSlide.emit('itemSelected', {\n                                index: item.tinSlideIndex,\n                                item: item\n                            });\n                        }\n                    }\n                    else {\n                        item.style.position = 'absolute';\n                        item.style.zIndex = '';\n                    }\n                }\n                // Hide previously visible items no longer visible.\n                for(index in this.itemsVisible) {\n                    if(this.itemsVisible[index] === null) {\n                        delete this.itemsVisible[index];\n                        item = this.items[index];\n                        this.hideOrShowElement(item, true);\n                        item.style.position = 'absolute';\n                        item.style.zIndex = '';\n                    }\n                }\n                this.applySlideEffect();\n            },\n\n            /**\n             *  Next/ previous.\n             */\n            next: function(isAuto) {\n                var status = false;\n                if(this.items.length > 1) {\n                    // Stop auto play if not an auto play navigation.\n                    if(isAuto !== true) {\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            this.stopAuto();\n                        }\n                    }\n                    if(!this.timerSwipe || this.swipeXAbs < this.settings.swipe.releaseRequiredSwipeX) {\n                        // Navigate if slider is looping, or if there are previous slides.\n                        if(this.settings.loop || this.targetIndex < this.numItems - 1) {\n                            this.targetIndex++;\n                            this.targetVal = this.targetIndex;\n                            this.animateToTarget();\n                            status = true;\n                        }\n                        else if(!isAuto && this.settings.useNonLoopingHint) {\n                            this.targetVal = this.numItems - 1 + 0.05;\n                            this.animateToTarget();\n                            var that = this;\n                            this.timerNonLoopingHint = setTimeout(function() {\n                                that.targetVal = that.targetIndex;\n                                that.animateToTarget();\n                            }, 200);\n                        }\n                    }\n                }\n                return status;\n            },\n            previous: function(isAuto) {\n                var status = false;\n                if(this.items.length > 1) {\n                    // Stop auto play if not an auto play navigation.\n                    if(isAuto !== true) {\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            this.stopAuto();\n                        }\n                    }\n                    if(!this.timerSwipe || this.swipeXAbs < this.settings.swipe.releaseRequiredSwipeX) {\n                        // Navigate if slider is looping, or if there are previous slides.\n                        if(this.settings.loop || this.targetIndex > 0) {\n                            this.targetIndex--;\n                            this.targetVal = this.targetIndex;\n                            this.animateToTarget();\n                            status = true;\n                        }\n                        else if(!isAuto && this.settings.useNonLoopingHint) {\n                            this.targetVal = -0.05;\n                            this.animateToTarget();\n                            var that = this;\n                            this.timerNonLoopingHint = setTimeout(function() {\n                                that.targetVal = that.targetIndex;\n                                that.animateToTarget();\n                            }, 200);\n                        }\n                    }\n                }\n                return status;\n            },\n            /**\n             *  Swipe.\n             */\n            // Performs the actual grabbing  stops slider etc.\n            onSwipePress: function(event) {\n\n                if(this.items.length > 1) {\n                    var isTouch = event.type === 'touchstart';\n\n                    // If link was pressed do nothing.\n                    if(event.target.nodeName === 'A') {\n                        return;\n                    }\n\n                    /**\n                     *  Don't respond to right click.\n                     */\n                    var nativeEvent = event;\n                    if((nativeEvent.button !== undefined && nativeEvent.button === 2) || (nativeEvent.which !== undefined && nativeEvent.which === 3)) {\n                        return;\n                    }\n\n                    // this.swipePressX = isTouch ? event.layerX : event.clientX;\n                    this.swipePressX = isTouch ? event.touches[0].clientX : event.clientX;\n\n                    this.swipeX = 0;\n                    this.swipeXAbs = 0;\n\n                    if(this.settings.swipe.pressMoveBeforeInvokeGrabbing) {\n                        document.addEventListener('touchmove', this.onSwipePressMove);\n                        document.addEventListener('mousemove', this.onSwipePressMove);\n                        document.addEventListener('touchend', this.clearSwipePressMove);\n                        document.addEventListener('mouseup', this.clearSwipePressMove);\n                    }\n                    else {\n                        this.onTimerSwipePress();\n                    }\n\n                    // Stop event useful if slider is a child slider.\n                    if(this.loop || (this.targetIndexWithinBounds>0 && this.targetIndexWithinBounds<this.numItems-1)) {\n                        event.stopPropagation();\n                    }\n                }\n            },\n\n            onSwipePressMove: function() {\n                this.clearSwipePressMove();\n                this.onTimerSwipePress();\n            },\n\n            clearSwipePressMove: function() {\n                document.removeEventListener('touchmove', this.onSwipePressMove);\n                document.removeEventListener('mousemove', this.onSwipePressMove);\n                document.removeEventListener('touchend', this.clearSwipePressMove);\n                document.removeEventListener('mouseup', this.clearSwipePressMove);\n            },\n\n            // Performs the actual grabbing  stops slider etc.\n            onTimerSwipePress: function() {\n\n                if(!this.settings.swipe.touchOnly) {\n                    this.container.style.cssText += '; cursor: -webkit-grabbing; cursor: grabbing;';\n                }\n\n                // Clear timer used for non looping hint.\n                clearTimeout(this.timerNonLoopingHint);\n\n                // Stop auto play.\n                if(this.settings.autoPlay.stopOnNavigation) {\n                    this.pauseAuto();\n                }\n\n                if(this.timerAnimate) {\n                    // clearInterval(this.timerAnimate);\n                    cancelAnimationFrame(this.timerAnimate);\n                    this.timerAnimate = 0;\n                }\n\n                // Calculate how far the slide will travel upon press.\n                var step = 0;\n                var stepAdd = this.step;\n                for(var i=0; i<25; i++) {\n                    stepAdd *= this.settings.swipe.stepFactor;\n                    step += stepAdd;\n                }\n\n                this.swipePressPointerVal = this.pointerVal + step;\n                this.swipeTargetVal = this.swipePressPointerVal;\n\n                document.addEventListener('touchmove', this._onSwipeMove);\n                document.addEventListener('touchend', this._onSwipeRelease);\n                if(!this.settings.swipe.touchOnly) {\n                    document.addEventListener('mousemove', this._onSwipeMove);\n                    document.addEventListener('mouseup', this._onSwipeRelease);\n                }\n\n                this.startSwipeTimer();\n            },\n            onSwipeMove: function(event) {\n\n                // Check if child slider is swiping.\n                // If so, lock this parent slider until child slider no longer swipes (first / last slide reached).\n                // Child sliders should probably have loop=false. Otherwise this parent slider will\n                // never slide again once child slider has been grabbed.\n                if(event.tinSlideMoved === undefined) {\n\n                    var isTouch = event.type === 'touchmove';\n                    this.swipeIsTouch = isTouch;\n\n                    var containerWidth = this.getContainerWidth();\n                    if(containerWidth) {\n\n                        /**\n                         * Check if touch scrolls an element in the slider.\n                         */\n                        if(isTouch && event.target !== undefined && event.target !== this.container) {\n                            var t = event.target;\n                            if(t.scrollWidth > t.offsetWidth) {\n                                this.swipeScrollsElementCounter++;\n                                if(this.swipeScrollsElementCounter < 4 || (t.scrollLeft > 0 && (t.scrollLeft + t.offsetWidth) < t.scrollWidth)) {\n                                    event.tinSlideMoved = this;\n                                    return;\n                                }\n                            }\n                        }\n\n                        // var currentX = isTouch ? event.layerX : event.clientX;\n                        var currentX = isTouch ? event.touches[0].clientX: event.clientX;\n                        if(currentX === undefined) {\n                            return;\n                        }\n\n                        if(this.swipePressX === undefined) {\n                            this.swipePressX = currentX;\n                        }\n\n                        this.swipeX = this.swipePressX - currentX;\n\n                        this.swipeXAbs = this.swipeX < 0 ? -this.swipeX : this.swipeX;\n\n                        if(!this.swipePreventDefault) {\n                            if(this.swipeXAbs > 10) {\n                                this.swipePreventDefault = true;\n                            }\n                        }\n\n                        var swipeTargetVal = this.swipePressPointerVal + (this.swipeX / containerWidth);\n                        if(!this.settings.loop) {\n                            var offset = this.settings.useNonLoopingHint ? 0.05 : 0;\n                            if(swipeTargetVal < -offset) {\n                                swipeTargetVal = -offset;\n                            }\n                            else if(swipeTargetVal > this.numItems - 1 + offset) {\n                                swipeTargetVal = this.numItems - 1 + offset;\n                            }\n                            else {\n                                event.tinSlideMoved = this;\n                            }\n                        }\n                        else {\n                            event.tinSlideMoved = this;\n                        }\n\n                        this.swipeTargetVal = swipeTargetVal;\n                        var targetIndexWithinBounds = Math.round(this.swipeTargetVal) % this.numItems;\n                        if(targetIndexWithinBounds < 0) {\n                            targetIndexWithinBounds += this.numItems;\n                        }\n                        this.targetIndexWithinBounds = targetIndexWithinBounds;\n                        this.updateDots();\n                    }\n                }\n            },\n            onSwipeRelease: function(event) {\n\n                document.removeEventListener('touchmove', this._onSwipeMove);\n                document.removeEventListener('touchend', this._onSwipeRelease);\n                if(!this.settings.swipe.touchOnly) {\n                    document.removeEventListener('mousemove', this._onSwipeMove);\n                    document.removeEventListener('mouseup', this._onSwipeRelease);\n                    this.container.style.cssText += '; cursor: -webkit-grab; cursor: grab;';\n                }\n\n                this.swipePreventDefault = false;\n                this.swipeScrollsElementCounter = 0;\n\n                if(this.swipeXAbs >= this.settings.swipe.releaseRequiredSwipeX) {\n\n                    var limit = 0.04;\n                    var targetIndex;\n                    if(this.step < -limit) {\n                        // Stop auto play.\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            this.stopAuto();\n                        }\n                        targetIndex = Math.floor(this.pointerVal);\n                    }\n                    else if(this.step > limit) {\n                        // Stop auto play.\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            this.stopAuto();\n                        }\n                        targetIndex = Math.ceil(this.pointerVal);\n                    }\n                    else {\n                        // Calculate how far the slide will travel upon release.\n                        var step = this.step * 15;\n                        var stepAdd = this.step;\n                        for(var i=0; i<80; i++) {\n                            stepAdd *= this.settings.swipe.stepFactor;\n                            step += stepAdd;\n                        }\n                        if(step > 1) {\n                            step = 1;\n                        }\n                        else if(step < -1) {\n                            step = -1;\n                        }\n                        var targetVal = this.pointerVal + step;\n                        targetIndex = Math.round(targetVal);\n\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            if(targetIndex === this.targetIndex) {\n                                if(event.type === 'touchend') {\n                                    this.resumeAuto();\n                                }\n                            }\n                            else {\n                                this.stopAuto();\n                            }\n                        }\n                    }\n\n                    this.choke = 1;\n\n                    // Wait a few milliseconds, otherwise prev / next will be invoked.\n                    setTimeout(function() {\n                        if(this.timerSwipe) {\n                            cancelAnimationFrame(this.timerSwipe);\n                            this.timerSwipe = 0;\n                        }\n                        this.targetIndex = targetIndex;\n                        this.targetVal = this.targetIndex;\n                        this.animateToTarget();\n                    }.bind(this), 1);\n                }\n                else {\n                    cancelAnimationFrame(this.timerSwipe);\n                    this.timerSwipe = 0;\n\n                    if(event.type === 'touchend') {\n                        this.resumeAuto();\n                    }\n                }\n\n            },\n            startSwipeTimer: function() {\n                if(!this.timerSwipe) {\n                    this.timerSwipe = requestAnimationFrame(this._onTimerSwipe);\n                }\n            },\n            onTimerSwipe: function() {\n                var pointerVal = this.pointerVal;\n                var diff = this.swipeTargetVal - pointerVal;\n                var step = diff * (!this.swipeIsTouch ? this.settings.swipe.stepFactor : this.settings.swipe.stepFactorTouch);\n                this.step = step;\n                this.stepAbs = this.step < 0 ? -this.step : this.step;\n                pointerVal += step;\n                this.setPointer(pointerVal);\n                this.timerSwipe = requestAnimationFrame(this._onTimerSwipe);\n            },\n            getContainerWidth: function() {\n                if(!this.containerWidth) {\n                    this.containerWidth = container.offsetWidth;\n                }\n                return this.containerWidth;\n            },\n\n            /**\n             *  Animate to index.\n             */\n            animateTo: function(index) {\n                this.targetIndex = index % this.numItems;\n                if(this.targetIndex < 0) {\n                    this.targetIndex += this.numItems;\n                }\n                this.targetIndexWithinBounds = this.targetIndex;\n                this.updateDots();\n                var pointerVal = this.pointerVal % this.numItems;\n                // Adjust pointerVal so slider chooses optimal direction.\n                if(this.settings.loop) {\n                    var diff = pointerVal - this.targetIndex;\n                    if(diff > this.numHalfItems) {\n                        pointerVal -= this.numItems;\n                    }\n                    else if(diff < -this.numHalfItems) {\n                        pointerVal += this.numItems;\n                    }\n                }\n                this.pointerVal = pointerVal;\n                this.targetVal = this.targetIndex;\n                this.animateToTarget();\n            },\n            animateToTarget: function() {\n                // Clear timer used for non looping hint.\n                clearTimeout(this.timerNonLoopingHint);\n                // Update dots.\n                var targetIndexWithinBounds = this.targetIndex % this.numItems;\n                if(targetIndexWithinBounds < 0) {\n                    targetIndexWithinBounds += this.numItems;\n                }\n                this.targetIndexWithinBounds = targetIndexWithinBounds;\n                this.updateDots();\n                if(this.settings.useUpdateContainerHeight) {\n                    this.updateContainerHeight();\n                }\n                if(!this.timerAnimate) {\n                    // var that = this;\n                    // this.timerAnimate = setInterval(function() {\n                    //     that.onAnimationTimer();\n                    // }, 25);\n\n                    this.timerAnimate = requestAnimationFrame(this._onAnimationTimer);\n                }\n            },\n            onAnimationTimer: function() {\n                var pointerVal = this.pointerVal;\n                var diff = this.targetVal - pointerVal;\n                var diffAbs = diff < 0 ? -diff : diff;\n\n                if(diffAbs < this.settings.stepSnap) {\n                    this.step = this.stepAbs = 0;\n                    this.setPointer(this.targetVal);\n                    cancelAnimationFrame(this.timerAnimate);\n                    this.timerAnimate = 0;\n                }\n                else {\n                    var step = (diff) * this.settings.stepFactor;\n                    // If slider continues in the same direction.\n                    if(step * this.step >= 0) {\n                        this.step = (diff) * this.settings.stepFactor;\n                        // Release the choke for acceleration.\n                        if(this.choke < 1) {\n                            this.choke = (this.choke * this.settings.chokeReleaseFactor) + (this.choke || this.settings.chokeReleaseStep ? this.settings.chokeReleaseStep : 0.05);\n                        }\n                        // Decrease choke when target is approached.\n                        if(this.choke > diffAbs) {\n                            this.choke = diffAbs * (0.5 + this.settings.chokeReturnFactor);\n                        }\n                        if(this.choke > 1) {\n                            this.choke = 1;\n                        }\n                        if(this.step > this.settings.stepMin || this.step < -this.settings.stepMin) {\n                            var stepMax = this.choke * this.settings.stepMax;\n                            if(this.step > stepMax) {this.step = stepMax;}\n                            else if(this.step < -stepMax) {this.step = -stepMax;}\n                            if(!(this.step > this.settings.stepMin || this.step < -this.settings.stepMin)) {\n                                this.step = this.settings.stepMin * (this.step < 0 ? -1 : 1);\n                            }\n                        }\n                        this.stepAbs = this.step < 0 ? -this.step : this.step;\n                        pointerVal += this.step;\n                    }\n                    // If slider changes direction  break and turn.\n                    else {\n                        step = this.step * (1-this.settings.stepTurnBreakFactor);\n                        // If turning break has completed.\n                        if(!(step > this.settings.stepSnap || step < -this.settings.stepSnap)) {\n                            this.step = 0;\n                        } else {\n                            this.step = step;\n                        }\n                        pointerVal += step;\n                    }\n                    this.stepAbs = this.step < 0 ? -this.step : this.step;\n                    this.setPointer(pointerVal);\n                    this.timerAnimate = requestAnimationFrame(this._onAnimationTimer);\n                }\n            },\n            goTo: function(index) {\n                // Clear timer used for non looping hint.\n                clearTimeout(this.timerNonLoopingHint);\n                // Stop auto play.\n                if(this.settings.autoPlay.stopOnNavigation) {\n                    this.stopAuto();\n                }\n                // Stop animation.\n                if(this.timerAnimate) {\n                    // clearInterval(this.timerAnimate);\n                    cancelAnimationFrame(this.timerAnimate);\n                    this.timerAnimate = 0;\n                }\n                // Calculate correct target index.\n                this.targetIndex = index % this.numItems;\n                if(this.targetIndex < 0) {\n                    this.targetIndex += this.numItems;\n                }\n                this.targetIndexWithinBounds = this.targetIndex;\n                this.updateDots();\n                if(this.settings.useUpdateContainerHeight) {\n                    this.updateContainerHeight();\n                }\n                this.setPointer(this.targetIndexWithinBounds);\n            },\n\n            updateContainerHeight: function(fromSubSlideWithHeight) {\n\n                var parentSlides;\n\n                // If this action was initiated by the slider itself.\n                if(fromSubSlideWithHeight === undefined) {\n                    // Don't do anything if the slider has parent sliders.\n                    // Let the top most slider handle the action.\n                    parentSlides = this.getParentSlides();\n                    if(parentSlides.length) {\n                        parentSlides[0].updateContainerHeight();\n                    }\n                    // If this is the top most slider.\n                    else {\n                        // Check if slider has sub slides.\n                        // Update height on the inner most slider.\n                        // Inner most slider will then traverse upwards and update\n                        // parent slides all the way up to this one.\n                        var subSlides = this.getSubSlides();\n                        if(subSlides.length) {\n                            subSlides[0].updateContainerHeightFromParent();\n                        }\n                        else {\n                            this.doUpdateContainerHeight();\n                        }\n                    }\n                }\n\n                // If slider was instructed by a sub slider to update height.\n                // Also enters here if this is the inner most slider (with fromSubSlideWithHeight = 0).\n                else {\n                    this.doUpdateContainerHeight(fromSubSlideWithHeight);\n                    // Update parent slider.\n                    parentSlides = this.getParentSlides().reverse();\n                    if(parentSlides.length) {\n                        parentSlides[0].updateContainerHeight(this.containerHeight);\n                    }\n                }\n\n            },\n\n            doUpdateContainerHeight: function(minHeight) {\n                var id = this.container.getAttribute('id');\n                if(minHeight === undefined) {\n                    minHeight = 0;\n                }\n                var containerHeight = this.items[this.targetIndexWithinBounds].offsetHeight;\n                if(!containerHeight) {\n                    this.items[this.targetIndexWithinBounds].style.display = 'block';\n                    containerHeight = this.items[this.targetIndexWithinBounds].offsetHeight;\n                }\n                if(containerHeight < minHeight) {\n                    containerHeight = minHeight;\n                }\n                if(containerHeight > 0 && this.containerHeight !== containerHeight) {\n                    this.containerHeight = containerHeight;\n                    this.css(this.container, {\n                        height: containerHeight+'px'\n                    });\n                }\n            },\n\n            // Update this inner most slider.\n            updateContainerHeightFromParent: function() {\n                this.updateContainerHeight(0);\n            },\n\n            getParentSlides: function() {\n                var slides = [];\n                function checkParentNode(element) {\n                    if(element.parentNode && element.parentNode !== undefined) {\n                        if(element.parentNode.tinSlide !== undefined) {\n                            slides.push(element.parentNode.tinSlide);\n                        }\n                        checkParentNode(element.parentNode);\n                    }\n                }\n                checkParentNode(this.container);\n                return slides.reverse();\n            },\n\n            getSubSlides: function() {\n                var slides = [];\n                function checkChildNodes(element) {\n                    for(var i=0, n=element.childNodes.length; i<n; i++) {\n                        if(element.childNodes[i].tinSlide !== undefined) {\n                            slides.push(element.childNodes[i].tinSlide);\n                            checkChildNodes(element.childNodes[i].tinSlide.getCurrentItem());\n                        }\n                        else {\n                            checkChildNodes(element.childNodes[i]);\n                        }\n                    }\n                }\n                // checkChildNodes(this.container);\n                checkChildNodes(this.items[this.targetIndexWithinBounds]);\n                return slides.reverse();\n            },\n\n            /**\n             *  Apply desired slide effect:\n             *   - Horizontal slide\n             *   - Fade\n             *   - Scale\n             *   - Motion blur\n             */\n            applySlideEffect: function() {\n                for(var index in this.itemsVisible) {\n\n                    var item = this.items[index];\n                    var progress = this.itemsVisible[index];\n                    var progressAbs = progress < 0 ? -progress : progress;\n                    var transforms = [];\n\n                    // Horizontal slide.\n                    if(this.settings.effects.slideHorizontal.on) {\n                        var translateXProgress = progress - this.translateXOffsetProgress;\n                        var translateX = ((this.settings.effects.slideHorizontal.offset*100)*-translateXProgress)+'%';\n                        var translateY = !this.settings.verticallyCenter ? 0 : '-50%';\n                        transforms.push('translate3d('+translateX+', '+translateY+', 0)');\n\n                        /*--------------------------------------------------\n                        | Add class to visible items outside of slider.\n                        | Mostly usable when hideItems = false.\n                        |-------------------------------------------------*/\n                        if(translateXProgress > 0.75 ||translateXProgress < -(this.settings.effects.slideHorizontal.numVisible-0.25)) {\n                            if(this.itemsOutside[index] === undefined) {\n                                this.itemsOutside[index] = item;\n                                this.addClass(item, 'tin-slide-outside');\n                            }\n                        }\n                        else {\n                            if(this.itemsOutside[index] !== undefined) {\n                                delete this.itemsOutside[index];\n                                this.removeClass(item, 'tin-slide-outside');\n                            }\n                        }\n                    }\n\n                    // Scale\n                    if(this.settings.effects.scale.on) {\n                        var scale;\n                        if(progressAbs < this.settings.effects.scale.maxAt) {\n                            scale = this.settings.effects.scale.max;\n                        }\n                        else if(progressAbs < this.settings.effects.scale.minAt) {\n                            var scaleFactor = 1 - ((progressAbs - this.settings.effects.scale.maxAt) / (this.settings.effects.scale.minAt - this.settings.effects.scale.maxAt));\n                            scale = this.settings.effects.scale.min + scaleFactor * (this.settings.effects.scale.max - this.settings.effects.scale.min);\n                        }\n                        else {\n                            scale = this.settings.effects.scale.min;\n                        }\n                        transforms.push('scale('+scale+', '+scale+')');\n                    }\n\n                    // Apply accumulated transforms.\n                    if(transforms.length) {\n                        item.style.transform = transforms.join(' ');\n                    }\n                    else if(item.style.transform !== '') {\n                        item.style.transform = '';\n                    }\n\n                    // Fade\n                    if(this.settings.effects.fade.on) {\n                        var opacity;\n                        if(progressAbs < this.settings.effects.fade.maxAt) {\n                            opacity = this.settings.effects.fade.max;\n                        }\n                        else if(progressAbs < this.settings.effects.fade.minAt) {\n                            var opacityFactor = 1 - ((progressAbs - this.settings.effects.fade.maxAt) / (this.settings.effects.fade.minAt - this.settings.effects.fade.maxAt));\n                            opacity = this.settings.effects.fade.min + opacityFactor * (this.settings.effects.fade.max - this.settings.effects.fade.min);\n                        }\n                        else {\n                            opacity = this.settings.effects.fade.min;\n                        }\n                        item.style.opacity = opacity;\n                    }\n                    else if(item.style.opacity !== '') {\n                        item.style.opacity = '';\n                    }\n                }\n\n                // Motion blur.\n                if(this.settings.effects.motionBlur.on) {\n                    this.applyBlur();\n                }\n            },\n            /**\n             *  Speed based blur.\n             */\n            applyBlur: function() {\n                var blurFactor = this.stepAbs - this.settings.effects.motionBlur.stepMin;\n                if(blurFactor < 0) {blurFactor = 0;}\n                var blur = blurFactor * this.settings.effects.motionBlur.factor;\n                if(blur > this.settings.effects.motionBlur.maxPixels) {blur = this.settings.effects.motionBlur.maxPixels;}\n                var cssBlur = blur ? 'blur('+blur+'px)' : '';\n                for(var index in this.itemsVisible) {\n                    this.items[index].style.filter = cssBlur;\n                }\n            },\n            updateDots: function() {\n                if(this.dots && this.currentDotIndex !== this.targetIndexWithinBounds) {\n                    var dot;\n                    if(this.currentDotIndex !== null) {\n                        dot = this.dotsItems[this.currentDotIndex];\n                        if(dot) {\n                            this.removeClass(dot, 'on');\n                        }\n                    }\n                    this.currentDotIndex = this.targetIndexWithinBounds;\n                    dot = this.dotsItems[this.currentDotIndex];\n                    if(dot) {\n                        this.addClass(dot, 'on');\n                    }\n                }\n            },\n            onDotClick: function(event) {\n                // Stop auto play.\n                if(this.settings.autoPlay.stopOnNavigation) {\n                    this.stopAuto();\n                }\n                var index = parseInt(event.target.getAttribute('tin-slide-index'), 10);\n                this.animateTo(index);\n            },\n            startAuto: function() {\n                if(this.autoPlayState === 'stopped') {\n                    return;\n                }\n                if(this.autoPlayState !== 'started') {\n                    this.autoPlayState = 'started';\n                    this.resumeAuto();\n                }\n            },\n            pauseAuto: function() {\n                if(this.autoPlayState === 'stopped') {\n                    return;\n                }\n                // Don't do anything if auto play isn't activated.\n                if(this.autoPlayState) {\n                    this.autoPlayState = 'paused';\n                    clearInterval(this.timerAutoPlay);\n                    this.timerAutoPlay = 0;\n                }\n            },\n            resumeAuto: function() {\n                if(this.autoPlayState === 'stopped') {\n                    return;\n                }\n                // Don't do anything if auto play isn't activated.\n                if(this.autoPlayState) {\n                    this.autoPlayState = 'started';\n                    clearInterval(this.timerAutoPlay);\n                    this.timerAutoPlay = setInterval(function() {\n                        // Only auto slide if swiping is not active.\n                        // Only auto slide if slider is visible.\n                        // Also don't slide if window isn't visible.\n                        if(!this.timerSwipe && this.container.clientHeight && !this.hasClass(this.container, 'window-hidden')) {\n                            var status = this.autoPlayForwards ? this.next(true) : this.previous(true);\n                            // Change direction if navigation failed.\n                            if(!status) {\n                                this.autoPlayForwards = !this.autoPlayForwards;\n                                status = this.autoPlayForwards ? this.next(true) : this.previous(true);\n                            }\n                        }\n                    }.bind(this), this.settings.autoPlay.time);\n                }\n            },\n            stopAuto: function() {\n                if(this.autoPlayState === 'stopped') {\n                    return;\n                }\n                if(this.autoPlayState) {\n                    this.pauseAuto();\n                    this.autoPlayState = 'stopped';\n                }\n            },\n            imageLoaded: function(event) {\n                if(this.settings.useUpdateContainerHeight) {\n                    this.updateContainerHeight();\n                }\n            }\n        };\n\n        /**\n         *  Public methods.\n         */\n        var events = {};\n\n        tinSlide = {\n            next: function(index) {\n                logic.next();\n            },\n            previous: function(index) {\n                logic.previous();\n            },\n            animateTo: function(index) {\n                logic.animateTo(index);\n            },\n            goTo: function(index) {\n                logic.goTo(index);\n            },\n            getDots: function() {\n                return logic.dots ? logic.dots : logic.createDots();\n            },\n            getNav: function() {\n                return logic.nav ? logic.nav : logic.createNav();\n            },\n            startAuto: function() {\n                logic.startAuto();\n            },\n            stopAuto: function() {\n                logic.stopAuto();\n            },\n            updateContainerHeight: function(fromSubSlideWithHeight) {\n                logic.updateContainerHeight(fromSubSlideWithHeight);\n            },\n            updateContainerHeightFromParent: function() {\n                logic.updateContainerHeightFromParent();\n            },\n            getCurrentItem: function() {\n                return logic.items[logic.targetIndexWithinBounds];\n            },\n            on: function(eventType, listener) {\n                if (typeof events[eventType] !== 'object') {\n                    events[eventType] = [];\n                }\n                events[eventType].push(listener);\n            },\n            removeListener: function(eventType, listener) {\n                var idx;\n                if (typeof events[eventType] === 'object') {\n                    idx = events[eventType].indexOf(listener);\n                    if (idx > -1) {\n                        events[eventType].splice(idx, 1);\n                    }\n                }\n            },\n            emit: function(eventType, event) {\n                var i, listeners, len, args = [].slice.call(arguments, 1);\n                if (typeof events[eventType] === 'object') {\n                    listeners = events[eventType].slice();\n                    len = listeners.length;\n                    for(i = 0; i < len; i++) {\n                        listeners[i].apply(this, args);\n                    }\n                }\n            }\n        };\n\n        // Initialize.\n        logic.init(container, options);\n\n        /*--------------------------------------------------\n        | Prevent IE image dragging.\n        |-------------------------------------------------*/\n        document.ondragstart = function () { return false; };\n\n        /**\n         *  Experimentally check if window is hidden.\n         *  Used to pause autoplay when window is hidden.\n         */\n        var documentHiddenName = null;\n        function onVisibilityChange(event) {\n            var v = \"visible\", h = \"hidden\";\n            var eventMap = {\n                focus: v,\n                focusin: v,\n                pageshow: v,\n                blur: h,\n                focusout: h,\n                pagehide: h\n            };\n            event = event || window.event;\n            var isHidden = false;\n            if(event.type in eventMap) {\n                isHidden = eventMap[event.type] === 'hidden';\n            }\n            else {\n                isHidden = document[documentHiddenName] ? true : false;\n            }\n            if(isHidden) {\n                logic.addClass(logic.container, 'window-hidden');\n            }\n            else {\n                logic.removeClass(logic.container, 'window-hidden');\n            }\n        }\n        if(\"hidden\" in document) {\n            documentHiddenName = \"hidden\";\n            document.addEventListener(\"visibilitychange\", onVisibilityChange);\n        }\n        else if(\"mozHidden\" in document) {\n            documentHiddenName = \"mozHidden\";\n            document.addEventListener(\"mozvisibilitychange\", onVisibilityChange);\n        }\n        else if(\"webkitHidden\" in document) {\n            documentHiddenName = \"webkitHidden\";\n            document.addEventListener(\"webkitvisibilitychange\", onVisibilityChange);\n        }\n        else if (\"msHidden\" in document) {\n            documentHiddenName = \"msHidden\";\n            document.addEventListener(\"msvisibilitychange\", onVisibilityChange);\n        }\n        // IE 9 and lower:\n        else if (\"onfocusin\" in document) {\n            document.onfocusin = document.onfocusout = onVisibilityChange;\n        }\n        // All others:\n        else {\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onVisibilityChange;\n        }\n        // set the initial state (but only if browser supports the Page Visibility API)\n        if(documentHiddenName && document[documentHiddenName] !== undefined) {\n            onVisibilityChange({type: document[documentHiddenName] ? \"blur\" : \"focus\"});\n        }\n\n        container.tinSlide = tinSlide;\n\n        return tinSlide;\n    }\n\n    /*--------------------------------------------------\n    | Element.firstElementChild polyfill.\n    |-------------------------------------------------*/\n    ;(function(constructor) {\n        if (constructor &&\n            constructor.prototype &&\n            constructor.prototype.firstElementChild == null) {\n            Object.defineProperty(constructor.prototype, 'firstElementChild', {\n                get: function() {\n                    var nodes = this.childNodes, i = 0;\n                    var node = nodes[i++];\n                    while (node) {\n                        if (node.nodeType === 1) {\n                            return node;\n                        }\n                        node = nodes[i++];\n                    }\n                    return null;\n                }\n            });\n        }\n    })(window.Node || window.Element);\n\n    /*--------------------------------------------------\n    | Window.requestAnimationFrame polyfill.\n    |-------------------------------------------------*/\n    window.requestAnimFrame = (function() {\n        return window.requestAnimationFrame    ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame    ||\n            function(callback) {\n                window.setTimeout(callback, 1000 / 60);\n            };\n    })();\n\n    return TinSlide$;\n\n}));\n"],"file":"tin-slide.js"}