{"version":3,"sources":["../src/js/tin-slide.js"],"names":["global","factory","exports","module","define","amd","TinSlide","TinSlide$","container","options","tinSlide","logic","defaultSettings","debug","effects","slideHorizontal","on","offset","numVisible","centerSelected","scale","min","max","minAt","maxAt","fade","motionBlur","maxPixels","stepMin","factor","useUpdateContainerHeight","verticallyCenter","useContainerClickNextPrev","swipe","touchOnly","stepFactor","stepFactorTouch","pressMoveBeforeInvokeGrabbing","releaseRequiredSwipeX","generate","dots","afterContainer","nav","styles","containerParentPosition","ratio","hasHeight","autoPlay","time","pauseOnHover","stopOnNavigation","loop","useNonLoopingHint","cropContainer","zIndex","hideItems","hideUsingVisibility","moveSelectedItem","stepSnap","stepMax","stepTurnBreakFactor","chokeReleaseStep","chokeReleaseFactor","chokeReturnFactor","settings","containerWidth","items","numItems","numHalfItems","pointer","pointerVal","selectedItem","numItemsInside","itemsVisible","itemsOutside","targetVal","targetIndex","targetIndexWithinBounds","timerAnimate","step","stepAbs","choke","containerHeight","timerUpdateContainerHeight","swipePressX","timerSwipePress","swipePressPointerVal","swipeTargetVal","timerSwipe","swipeX","swipeXAbs","swipePreventDefault","swipeIsTouch","swipeScrollsElementCounter","dotsItems","currentDotIndex","ratioPercent","timerAutoPlay","autoPlayState","autoPlayForwards","timerNonLoopingHint","translateXOffsetProgress","style","breakPoints","currentBreakPoint","init","onSwipePressMove","bind","clearSwipePressMove","item","i","n","v","element","src","body","document","getElementsByTagName","tinSlideImages","getElementsByClassName","tinSlideImagesArr","length","push","shift","img","createElement","getAttribute","undefined","setAttribute","srcset","bg","parentNode","replaceChild","tinSlideBackgrounds","tinSlideBackgroundsArr","tinSlideMarkup","tinSlideMarkupArr","template","innerHTML","firstElementChild","childNodes","nodeType","Node","ELEMENT_NODE","tinSlideIndex","position","hideOrShowElement","_onAnimationTimer","onAnimationTimer","_onSwipePress","onSwipePress","_onSwipeRelease","onSwipeRelease","_onSwipeMove","onSwipeMove","_onTimerSwipe","onTimerSwipe","_pauseAuto","pauseAuto","_resumeAuto","resumeAuto","_imageLoaded","imageLoaded","_updateContainerHeight","updateContainerHeight","setOptions","width","parseInt","isNaN","sort","a","b","breakPointOptions","mergeObjects","cloneObject","updateBreakPoint","removeAttribute","images","querySelectorAll","addEventListener","window","event","preventDefault","passive","breakPoint","getBreakPoint","initSettings","w","getContainerWidth","top","left","overflow","paddingTop","layerX","offsetLeft","previous","next","setSwipeStyles","removeEventListener","height","createDots","insertBefore","nextSibling","removeChild","createNav","createStyles","head","firstChild","pauseElements","startAuto","setPointer","updateDots","j","imageStyles","css","removeCss","imageNodes","cssText","Array","isArray","addClass","className","classes","split","indexOf","join","removeClass","idx","splice","hasClass","hide","visibility","display","scope","type","original","clone","add","that","ul","liClickHandler","onDotClick","li","cursor","appendChild","prev","val","index","visibleItems","visiblePointer","floorPointer","Math","floor","ceilPointer","len","relativeItem","progress","emit","applySlideEffect","isAuto","status","stopAuto","animateToTarget","setTimeout","isTouch","target","nodeName","nativeEvent","button","which","touches","clientX","onTimerSwipePress","stopPropagation","clearTimeout","cancelAnimationFrame","stepAdd","startSwipeTimer","tinSlideMoved","t","scrollWidth","offsetWidth","scrollLeft","currentX","round","limit","ceil","requestAnimationFrame","diff","animateTo","diffAbs","goTo","fromSubSlideWithHeight","parentSlides","getParentSlides","subSlides","getSubSlides","updateContainerHeightFromParent","doUpdateContainerHeight","reverse","minHeight","id","offsetHeight","slides","checkParentNode","checkChildNodes","getCurrentItem","progressAbs","transforms","translateXProgress","translateX","translateY","scaleFactor","transform","opacity","opacityFactor","applyBlur","blurFactor","blur","cssBlur","filter","dot","clearInterval","setInterval","clientHeight","events","getDots","getNav","eventType","listener","removeListener","listeners","args","slice","call","arguments","apply","ondragstart","documentHiddenName","onVisibilityChange","h","eventMap","focus","focusin","pageshow","focusout","pagehide","isHidden","onfocusin","onfocusout","onpageshow","onpagehide","onfocus","onblur","constructor","prototype","Object","defineProperty","get","nodes","node","Element","requestAnimFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback"],"mappings":"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","sourcesContent":["/*!\n * TinSlide v0.1.22\n * (c) 2018 Thomas Isberg\n * Released under the MIT License.\n */\n(function (global, factory) {\n    'use strict';\n\tif(typeof exports === 'object' && typeof module !== 'undefined') {\n        module.exports = factory();\n    }\n    else if(typeof define === 'function' && define.amd) {\n        define(factory);\n    }\n    else {\n        global.TinSlide = factory();\n    }\n}(this, function () {\n    'use strict';\n\n    function TinSlide$(container, options) {\n        \n        var tinSlide, logic;\n\n        logic = {\n\n            /*--------------------------------------------------\n            | Settings possible to override using options.\n            |-------------------------------------------------*/\n            defaultSettings: {\n                debug: false,\n                // Desired slide effects.\n                effects: {\n                    slideHorizontal: {\n                        on: true,\n                        offset: 1, // 0 - x\n                        numVisible: 1,\n                        centerSelected: false\n                    },\n                    scale: {\n                        on: false,\n                        min: 0.8,   // 0 - x\n                        max: 1,     // 0 - x\n                        minAt: 1.0, // 0 - 1\n                        maxAt: 0.0  // 0 - 1\n                    },\n                    fade: {\n                        on: false,\n                        min: 0,     // 0 - 1\n                        max: 1,     // 0 - 1\n                        minAt: 1.0, // 0 - 1\n                        maxAt: 0    // 0 - 1\n                    },\n                    motionBlur: {\n                        on: false,\n                        maxPixels: 2,\n                        stepMin: 0.05,\n                        factor: 500\n                    }\n                },\n                // If container height should actively match item height.\n                useUpdateContainerHeight: false,\n                // Vertically center slides.\n                verticallyCenter: false,\n                // Optional next / prev navigation on container click.\n                useContainerClickNextPrev: false,\n                // Swipe navigation.\n                swipe: {\n                    on: true,\n                    // Disable swipe using mouse.\n                    touchOnly: false,\n                    // Step factor every step when swiping. Applied on step to target.\n                    stepFactor: 0.25,\n                    // Same as above, but for touch swipe. Generally nicer with a faster response.\n                    stepFactorTouch: 0.75,\n                    // Optionally wait for move before invoke grabbing.\n                    // Useful if the entire container is clickable.\n                    // Especially if clicking either half navigates to previous / next.\n                    pressMoveBeforeInvokeGrabbing: false,\n                    releaseRequiredSwipeX: 0,\n                },\n                // Optionally generate markup.\n                generate: {\n                    dots: {\n                        on: true,\n                        afterContainer: true\n                    },\n                    nav: {\n                        on: true,\n                        afterContainer: true\n                    },\n                    styles: {\n                        on: true,\n                        containerParentPosition: \"relative\"\n                    }\n                },\n                // Optional ratio.\n                ratio: null,\n                // If slider has height (separate CSS) we can absolute position all slides.\n                hasHeight: false,\n                // Auto play.\n                autoPlay: {\n                    on: false,\n                    time: 5000,\n                    pauseOnHover: true,\n                    stopOnNavigation: true\n                },\n                // Loop\n                loop: true,\n                // Non looping next / prev animation when end reached.\n                useNonLoopingHint: true,\n                // Option to crop container (or not).\n                cropContainer: true,\n                // Base z-index. Slider will get base z, active slide +1.\n                // Overlying navigation can be set to higher in separate CSS.\n                // Disable zIndex by setting zIndex to 0.\n                zIndex: 0,\n                hideItems: true,\n                // Hide using visibility:hidden instead of display:none.\n                // Useful if images aren't loaded as desired.\n                hideUsingVisibility: false,\n                // Removes selected item from dom, and appends it to the parent as last child.\n                moveSelectedItem: false,\n                // Minimal amount of step required to reach target.\n                stepSnap: 0.0003,\n                // Step factor every step. Applied on step to target.\n                stepFactor: 0.2,\n                // Max step every step.\n                stepMax: 0.20,\n                // Minimum step.\n                stepMin: 0.0004,\n                // 0 - 1\n                // 0 = No break (will never turn).\n                // 1 = Instant break  turns immediately.\n                stepTurnBreakFactor: 0.5,\n                // Choke is increased by this value every step.\n                chokeReleaseStep: 0.05,\n                // Choke is multiplied by this value every step.\n                chokeReleaseFactor: 1.5,\n                // 0 - X\n                // 0 = Slow break towards target. Higher values breaks harder.\n                // Brings back choke when target is approached.\n                // Distance to target multiplied by this value = choke.\n                // This is what makes the slider break in on target.\n                chokeReturnFactor: 2\n                // // Break points allows for completely different settings\n                // // at desired sliders widths (break points). Pass object\n                // // with break point as key and settings aso bject as value,\n                // // for example {400: {}}\n                // breakPoints: null,\n            },\n            // Settings for current break point.\n            settings: {},\n\n            /*--------------------------------------------------\n            | Local working variables.\n            |-------------------------------------------------*/\n            container: null,\n            containerWidth: 0,\n            items: [],\n            numItems: 0,\n            numHalfItems: 0,\n            pointer: 0,\n            pointerVal: 0,\n            selectedItem: null,\n            numItemsInside: 1,\n            itemsVisible: {},\n            itemsOutside: {},\n            targetVal: 0,\n            targetIndex: 0,\n            targetIndexWithinBounds: 0,\n            timerAnimate: 0,\n            // Last step.\n            step: 0,\n            // Last step absolute value.\n            stepAbs: 0,\n            // Chokes acceleration.\n            // Is always between 0 and 1.\n            // Is increased on every step upon acceleration (up to 1).\n            // Applied max step every step is stepMax * choke.\n            choke: 0,\n            containerHeight: 0,\n            timerUpdateContainerHeight: 0,\n            swipePressX: 0,\n            timerSwipePress: 0,\n            swipePressPointerVal: 0,\n            swipeTargetVal: 0,\n            timerSwipe: 0,\n            swipeX: 0,\n            swipeXAbs: 0,\n            swipePreventDefault: false,\n            swipeIsTouch: false,\n            swipeScrollsElementCounter: 0,\n            // Dots.\n            dotsItems: null,\n            currentDotIndex: null,\n            // Next / prev.\n            nav: null,\n            ratioPercent: null,\n            timerAutoPlay: 0,\n            autoPlayState: null,\n            autoPlayForwards: true,\n            timerNonLoopingHint: 0,\n            translateXOffsetProgress: 0,\n            // Generated styles element.\n            style: null,\n            breakPoints: [],\n            currentBreakPoint: {},\n    \n            /**\n             *  Methods.\n             */\n            init: function(container, options) {\n\n                this.onSwipePressMove = this.onSwipePressMove.bind(this);\n                this.clearSwipePressMove = this.clearSwipePressMove.bind(this);\n    \n                this.container = container;\n                var item, i, n, v, element, src;\n                this.body = document.getElementsByTagName('body')[0];\n\n                /*--------------------------------------------------\n                | Replace all .tin-slide-image elements.\n                |-------------------------------------------------*/\n                var tinSlideImages = container.getElementsByClassName('tin-slide-img');\n                var tinSlideImagesArr = [];\n                for(i=0, n=tinSlideImages.length; i<n; i++) {\n                    tinSlideImagesArr.push(tinSlideImages[i]);\n                }\n                while(tinSlideImagesArr.length) {\n                    element = tinSlideImagesArr.shift();\n                    var img = document.createElement('img');\n                    src = element.getAttribute('data-src');\n                    if(src && src !== undefined && src !== '') {\n                        img.setAttribute('src', src);\n                    }\n                    var srcset = element.getAttribute('data-srcset');\n                    if(srcset && srcset !== undefined && srcset !== '') {\n                        img.setAttribute('srcset', srcset);\n                    }\n                    var bg = element.getAttribute('data-bg');\n                    if(bg && bg !== undefined && bg !== '') {\n                        img.setAttribute('style', 'background: url(\"'+bg+'\") no-repeat center; background-size: cover;');\n                    }\n                    element.parentNode.replaceChild(img, element);\n                }\n\n                /*--------------------------------------------------\n                | Add background image to all \n                | .tin-slide-background elements.\n                |-------------------------------------------------*/\n                var tinSlideBackgrounds = container.getElementsByClassName('tin-slide-bg');\n                var tinSlideBackgroundsArr = [];\n                for(i=0, n=tinSlideBackgrounds.length; i<n; i++) {\n                    tinSlideBackgroundsArr.push(tinSlideBackgrounds[i]);\n                }\n                while(tinSlideBackgroundsArr.length) {\n                    element = tinSlideBackgroundsArr.shift();\n                    src = element.getAttribute('data-bg');\n                    if(src && src !== undefined && src !== '') {\n                        element.setAttribute('style', 'background: url(\"'+src+'\") no-repeat center; background-size: cover;');\n                    }\n                }\n                \n                /*--------------------------------------------------\n                | Replace all .tin-slide-markup elements.\n                |-------------------------------------------------*/\n                var tinSlideMarkup = container.getElementsByClassName('tin-slide-markup');\n                var tinSlideMarkupArr = [];\n                for(i=0, n=tinSlideMarkup.length; i<n; i++) {\n                    tinSlideMarkupArr.push(tinSlideMarkup[i]);\n                }\n                while(tinSlideMarkupArr.length) {\n                    element = tinSlideMarkupArr.shift();\n                    var template = document.createElement('div');\n                    template.innerHTML = element.getAttribute('data-markup');\n                    element.parentNode.replaceChild(template.firstElementChild, element);\n                }\n\n                /*--------------------------------------------------\n                | Traverse children and create slider items.\n                |-------------------------------------------------*/\n                var items = [];\n                for(i=0, n=this.container.childNodes.length; i<n; i++) {\n                    item = this.container.childNodes[i];\n                    if(item.nodeType === Node.ELEMENT_NODE) {\n                        items.push(item);\n                    }\n                }\n                this.items = items;\n                this.numItems = this.items.length;\n                this.numHalfItems = this.numItems / 2;\n\n                for(i=0; i<this.numItems; i++) {\n                    item = this.items[i];\n                    item.tinSlideIndex = i;\n                    // Hide all items\n                    item.style.position = 'absolute';\n                    this.hideOrShowElement(item, true);\n                }\n\n                /*--------------------------------------------------\n                | Create functions bound to this scope.\n                |-------------------------------------------------*/\n                this._onAnimationTimer = this.onAnimationTimer.bind(this);\n                this._onSwipePress = this.onSwipePress.bind(this);\n                this._onSwipeRelease = this.onSwipeRelease.bind(this);\n                this._onSwipeMove = this.onSwipeMove.bind(this);\n                this._onTimerSwipe = this.onTimerSwipe.bind(this);\n                this._pauseAuto = this.pauseAuto.bind(this);\n                this._resumeAuto = this.resumeAuto.bind(this);\n                this._imageLoaded = this.imageLoaded.bind(this);\n                this._updateContainerHeight = this.updateContainerHeight.bind(this);\n\n                /*--------------------------------------------------\n                | Store default settings with standard options.\n                |-------------------------------------------------*/\n                if(options !== undefined) {\n                    this.setOptions(this.defaultSettings, options);\n\n                    /*--------------------------------------------------\n                    | Create sorted array with break points.\n                    |-------------------------------------------------*/\n                    if(options.breakPoints !== undefined) {\n                        for(v in options.breakPoints) {\n                            var width = parseInt(v, 10);\n                            if(!isNaN(width)) {\n                                this.breakPoints.push({\n                                    width: width,\n                                    options: options.breakPoints[v]\n                                });\n                            }\n                        }\n                        this.breakPoints.sort(function(a, b) {\n                            return a.width-b.width;\n                        });\n                        // Create merged options objects.\n                        var breakPointOptions = {};\n                        for(i=0; i<this.breakPoints.length; i++) {\n                            this.mergeObjects(breakPointOptions, this.breakPoints[i].options);\n                            this.breakPoints[i].options = this.cloneObject(breakPointOptions, {});\n                        }\n                    }\n                }\n\n                container.style.position = 'relative';\n\n                /*--------------------------------------------------\n                | Settings for current break point \n                | (or none / default).\n                |-------------------------------------------------*/\n                this.updateBreakPoint();\n    \n                for(i=0; i<this.numItems; i++) {\n                    item = this.items[i];\n                    item.removeAttribute('tin-slide-cloak');\n                }\n                container.removeAttribute('tin-slide-cloak');\n\n                /**\n                 * Listen for images loaded.\n                 */\n                var images = this.container.querySelectorAll('img');\n                for(i=0; i<images.length; i++) {\n                    images[i].addEventListener('load', this._imageLoaded);\n                }\n    \n                // Force recalculation of container width on window resize.\n                // Calculation will occur when width is needed.\n                window.addEventListener('resize', function() {\n                    this.containerWidth = 0;\n                    this.updateBreakPoint();\n                }.bind(this));\n\n\n                document.addEventListener('touchmove', function(event) {\n                    if(this.swipePreventDefault) {\n                        event.preventDefault();\n                    }\n                }.bind(this), {\n                    passive: false\n                });\n            },\n            /*--------------------------------------------------\n            | Set break point.\n            |-------------------------------------------------*/\n            updateBreakPoint: function() {\n                var breakPoint = this.getBreakPoint();\n                if(breakPoint === this.currentBreakPoint) {\n                    return;\n                }\n                this.currentBreakPoint = breakPoint;\n                if(breakPoint) {\n                    this.container.setAttribute('tin-slide-break-point', breakPoint.width);\n                    this.initSettings(breakPoint.options);\n                }\n                else {\n                    this.container.removeAttribute('tin-slide-break-point');\n                    this.initSettings();\n                }\n            },\n            /*--------------------------------------------------\n            | Get break point options.\n            |-------------------------------------------------*/\n            getBreakPoint: function() {\n                var breakPoint = null;\n                var i, n, w = this.getContainerWidth();\n                for(i=0, n=this.breakPoints.length; i<n; i++) {\n                    if(w >= this.breakPoints[i].width) {\n                        breakPoint = this.breakPoints[i];\n                    }\n                    else {\n                        break;\n                    }\n                }\n                return breakPoint;\n            },\n            /*--------------------------------------------------\n            | Initialize settings for break point (or default).\n            |-------------------------------------------------*/\n            initSettings: function(breakPointOptions) {\n                if(breakPointOptions === undefined) {\n                    this.settings = this.defaultSettings;\n                }\n                else {\n                    var settings = this.cloneObject(this.defaultSettings, {});\n                    this.setOptions(settings, breakPointOptions);\n                    this.settings = settings;\n                }\n\n                var i, n, item;\n\n                for(i=0; i<this.numItems; i++) {\n                    item = this.items[i];\n    \n                    // Item styles\n                    item.style.top = !this.settings.verticallyCenter ? '0' : '50%';\n                    item.style.left = '0';\n                    item.style.width = (this.settings.effects.slideHorizontal.on ? (100/this.settings.effects.slideHorizontal.numVisible) : 100)+'%';\n                }\n    \n                /**\n                 *  Container styles.\n                 */\n                if(this.settings.cropContainer) {\n                    this.container.style.overflow = 'hidden';\n                }\n                else if(this.container.style.overflow === 'hidden') {\n                    this.container.style.overflow = '';\n                }\n                if(this.settings.ratio) {\n                    this.settings.ratioPercent = 100 * (1/this.settings.ratio);\n                    this.container.style.paddingTop = this.settings.ratioPercent+'%';\n                }\n                else if(this.container.style.paddingTop !== '') {\n                    this.container.style.paddingTop = '';\n                }\n                if(this.settings.zIndex) {\n                    this.container.style.zIndex = this.settings.zIndex;\n                }\n                else if(this.container.style.zIndex !== '') {\n                    this.container.style.zIndex = '';\n                }\n\n                /*--------------------------------------------------\n                | Set container click navigation.\n                |-------------------------------------------------*/\n                if(this.settings.useContainerClickNextPrev) {\n                    this.container.addEventListener('mouseup', function(event) {\n                        var containerWidth = this.getContainerWidth();\n                        if(containerWidth) {\n                            if((event.layerX - this.container.offsetLeft) < containerWidth / 2) {\n                                this.previous();\n                            }\n                            else {\n                                this.next();\n                            }\n                        }\n                    }.bind(this));\n                }\n                \n                /*--------------------------------------------------\n                | Set up swipe navigation.\n                |-------------------------------------------------*/\n                if(this.items.length > 1) {\n                    this.setSwipeStyles();\n\n                    this.container.removeEventListener('touchstart', this._onSwipePress);\n                    this.container.removeEventListener('mousedown', this._onSwipePress);\n                    if(this.settings.swipe.on) {\n                        this.container.addEventListener('touchstart', this._onSwipePress);\n                        if(!this.settings.swipe.touchOnly) {\n                            this.container.addEventListener('mousedown', this._onSwipePress);\n                        }\n                    }\n                }\n\n                /*--------------------------------------------------\n                | If container height should always \n                | match selected item.\n                |-------------------------------------------------*/\n                window.removeEventListener('resize', this._updateContainerHeight);\n                if(this.settings.useUpdateContainerHeight) {\n                    this.updateContainerHeight();\n                    window.addEventListener('resize', this._updateContainerHeight);\n                }\n                else {\n                    this.container.style.height = '';\n                }\n\n                /*--------------------------------------------------\n                | Store working variables for multiple items.\n                |-------------------------------------------------*/\n                this.numItemsInside = 1;\n                this.translateXOffsetProgress = 0;\n                if(this.settings.effects.slideHorizontal.on && this.settings.effects.slideHorizontal.numVisible > 1) {\n                    this.numItemsInside = this.settings.effects.slideHorizontal.numVisible;\n                    if(this.settings.effects.slideHorizontal.centerSelected) {\n                        this.translateXOffsetProgress = 0.5*(this.settings.effects.slideHorizontal.numVisible-1);\n                    }\n                }\n\n                /*--------------------------------------------------\n                | Generate markup.\n                |-------------------------------------------------*/\n                if(this.items.length > 1) {\n\n                    /*--------------------------------------------------\n                    | Generate dots.\n                    |-------------------------------------------------*/\n                    if(this.settings.generate.dots.on) {\n                        if(!this.dots) {\n                            this.dots = this.createDots();\n                        }\n                        this.container.parentNode.insertBefore(\n                            this.dots,\n                            this.settings.generate.dots.afterContainer ? this.container.nextSibling : this.container\n                        );\n                    }\n                    else {\n                        if(this.dots && this.dots.parentNode) {\n                            this.dots.parentNode.removeChild(this.dots);\n                        }\n                    }\n    \n                    /*--------------------------------------------------\n                    | Generate nav.\n                    |-------------------------------------------------*/\n                    if(this.settings.generate.nav.on) {\n                        if(!this.nav) {\n                            this.nav = this.createNav();\n                        }\n                        this.container.parentNode.insertBefore(\n                            this.nav,\n                            this.settings.generate.nav.afterContainer ? this.container.nextSibling : this.container\n                        );\n                    }\n                    else {\n                        if(this.nav && this.nav.parentNode) {\n                            this.nav.parentNode.removeChild(this.nav);\n                        }\n                    }\n\n                    /*--------------------------------------------------\n                    | Generate default styles.\n                    |-------------------------------------------------*/\n                    if(this.settings.generate.styles.on) {\n                        if(this.settings.generate.styles.containerParentPosition) {\n                            this.container.parentNode.style.position = this.settings.generate.styles.containerParentPosition;\n                        }\n                        if(!this.style) {\n                            this.style = this.createStyles();\n                        }\n                        var head = document.getElementsByTagName('head')[0];\n                        head.insertBefore(this.style, head.firstChild);\n                    }\n                    else {\n                        if(this.style && this.style.parentNode) {\n                            this.style.parentNode.removeChild(this.style);\n                        }\n                    }\n                }\n\n                /*--------------------------------------------------\n                | Auto play.\n                |-------------------------------------------------*/\n                if(this.items.length > 1) {\n                    var pauseElements = [this.container];\n                    if(this.dots) {\n                        pauseElements.push(this.dots);\n                    }\n                    if(this.nav) {\n                        pauseElements.push(this.nav);\n                    }\n                    for(i=0; i<pauseElements.length; i++) {\n                        pauseElements[i].removeEventListener('mouseenter', this._pauseAuto);\n                        pauseElements[i].removeEventListener('mouseleave', this._resumeAuto);\n                    }\n                    this.pauseAuto();\n                    if(this.settings.autoPlay.on) {\n                        this.startAuto();\n                        if(this.settings.autoPlay.pauseOnHover) {   \n                            for(i=0; i<pauseElements.length; i++) {\n                                pauseElements[i].addEventListener('mouseenter', this._pauseAuto);\n                                pauseElements[i].addEventListener('mouseleave', this._resumeAuto);\n                            }\n                        }\n                    }\n                }\n\n                this.selectedItem = null;\n\n                // Set slider to initial position.\n                // this.setPointer(this.targetIndex);\n                this.setPointer(this.pointerVal);\n\n                // Update dots.\n                this.updateDots();\n            },\n            setSwipeStyles: function() {\n                var i, n, j;\n                var styles = {\n                    'user-drag': 'none',\n                    'user-select': 'none',\n                    '-moz-user-select': 'none',\n                    '-webkit-user-drag': 'none',\n                    '-webkit-user-select': 'none',\n                    '-ms-user-select': 'none'\n                };\n                var imageStyles = {};\n                for(var v in styles) {\n                    imageStyles[v] = styles[v];\n                }\n                imageStyles['pointer-events'] = 'none';\n                for(i=0; i<this.numItems; i++) {\n                    if(this.settings.swipe.on) {\n                        this.css(this.items[i], styles);\n                    }\n                    else {\n                        this.removeCss(this.items[i], styles);\n                    }\n                    var imageNodes = this.items[i].getElementsByTagName('img');\n                    n = imageNodes.length;\n                    for(j=0; j<n; j++) {\n                        if(this.settings.swipe.on) {\n                            this.css(imageNodes[j], imageStyles);\n                        }\n                        else {\n                            this.removeCss(imageNodes[j], imageStyles);\n                        }\n                    }\n                }\n\n                if(this.settings.swipe.on && !this.settings.swipe.touchOnly) {\n                    this.container.style.cssText += '; cursor: -webkit-grab; cursor: grab;';\n                }\n                else {\n                    this.removeCss(this.container, ['cursor']);\n                }\n            },\n            css: function(element, styles) {\n                for(var style in styles) {\n                    element.style[style] = styles[style];\n                }\n            },\n            removeCss: function(element, styles) {\n                if(Array.isArray(styles)) {\n                    for(var i=0; i<styles.length; i++) {\n                        element.style[styles[i]] = '';\n                    }\n                }\n                else {\n                    for(var style in styles) {\n                        element.style[style] = '';\n                    }\n                }\n            },\n            addClass: function(element, className) {\n                var classes = element.className.split(' ');\n                if(classes.indexOf(className) === -1) {\n                    classes.push(className);\n                }\n                element.className = classes.join(' ');\n            },\n            removeClass: function(element, className) {\n                var classes = element.className.split(' ');\n                var idx = classes.indexOf(className);\n                if(idx !== -1) {\n                    classes.splice(idx, 1);\n                    element.className = classes.join(' ');\n                }\n            },\n            hasClass: function(element, className) {\n                var classes = element.className.split(' ');\n                return classes.indexOf(className) > -1;\n            },\n            hideOrShowElement: function(element, hide) {\n                if(this.settings.hideUsingVisibility) {\n                    element.style.visibility = hide ? 'hidden' : 'visible';\n                }\n                else {\n                    element.style.display = hide ? 'none' : 'block';\n                }\n            },\n            /**\n             *  Recursively copies options.\n             */\n            setOptions: function(scope, options) {\n                for(var v in options) {\n                    var type = typeof scope[v];\n                    // Only store option if it is of correct type.\n                    if(type === typeof options[v] || scope[v] === null) {\n                        // Don't overwrite objects just copy the primitive values.\n                        if(type === 'object' && scope[v] !== null) {\n                            this.setOptions(scope[v], options[v]);\n                        }\n                        else {\n                            scope[v] = options[v];\n                        }\n                    }\n                }\n            },\n            cloneObject: function(original, clone) {\n                var v, i;\n                if(!Array.isArray(original)) {\n                    for(v in original) {\n                        if(typeof original[v] === 'object' && original[v] !== null) {\n                            clone[v] = Array.isArray(original[v]) ? [] : {};\n                            this.cloneObject(original[v], clone[v]);\n                        }\n                        else {\n                            clone[v] = original[v];\n                        }\n                    }\n                }\n                else {\n                    for(i=0; i<original.length; i++) {\n                        if(typeof original[i] === 'object' && settings[i] !== null) {\n                            clone.push(Array.isArray(original[v]) ? [] : {});\n                            this.cloneObject(original[i], clone[i]);\n                        }\n                        else {\n                            clone.push(original[i]);\n                        }\n                    }\n                }\n                return clone;\n            },\n            mergeObjects: function(original, add) {\n                var v, i;\n                for(v in add) {\n                    if(typeof add[v] === 'object' && add[v] !== null && !Array.isArray(add[v])) {\n                        if(typeof original[v] !== 'object' || original[v] === null || Array.isArray(original[v])) {\n                            original[v] = {};\n                        }\n                        this.mergeObjects(original[v], add[v]);\n                    }\n                    else {\n                        original[v] = add[v];\n                    }\n                }\n                return original;\n            },\n            createDots: function() {\n    \n                /**\n                 *  Dots.\n                 */\n                var that = this;\n                var ul = document.createElement(\"UL\");\n                ul.setAttribute('class', 'tin-slide-dots');\n                var liClickHandler = function(event) {\n                    that.onDotClick(event);\n                };\n                this.dotsItems = [];\n                for(var i=0; i<this.numItems; i++) {\n                    var li = document.createElement('LI');\n                    li.setAttribute('class', 'tin-slide-dot-'+i);\n                    li.setAttribute('tin-slide-index', i);\n                    li.style.cursor = 'pointer';\n                    ul.appendChild(li);\n                    this.dotsItems.push(li);\n                    li.addEventListener('click', liClickHandler);\n                }\n                return ul;\n    \n            },\n            createNav: function() {\n    \n                /**\n                 *  Next / prev.\n                 */\n                var that = this;\n                var nav = document.createElement(\"NAV\");\n                nav.setAttribute('class', 'tin-slide-next-prev');\n\n                var prev = document.createElement(\"DIV\");\n                prev.setAttribute('class', 'tin-slide-prev');\n                prev.style.cursor = 'pointer';\n                // Added to prevent text selection from double click.\n                prev.addEventListener('mousedown', function(event) {\n                    event.preventDefault();\n                });\n                prev.addEventListener('click', function(event) {\n                    this.previous();\n                }.bind(this));\n                nav.appendChild(prev);\n    \n                var next = document.createElement(\"DIV\");\n                next.setAttribute('class', 'tin-slide-next');\n                next.style.cursor = 'pointer';\n                // Added to prevent text selection from double click.\n                next.addEventListener('mousedown', function(event) {\n                    event.preventDefault();\n                });\n                next.addEventListener('click', function(event) {\n                    this.next();\n                }.bind(this));\n                nav.appendChild(next);\n\n                return nav;\n            },\n\n            createStyles: function() {\n                var styles = [];\n                styles.push(\".tin-slide-prev, .tin-slide-next {position: absolute;left: 10px;top: 50%;}\");\n                styles.push(\".tin-slide-prev:before, .tin-slide-prev:after, .tin-slide-next:before, .tin-slide-next:after {content: '';display: block;width: 0;height: 0;position: absolute;top: 0;-webkit-transform: translateY(-50%);-ms-transform: translateY(-50%);-o-transform: translateY(-50%);transform: translateY(-50%);}\");\n                styles.push(\".tin-slide-prev:before, .tin-slide-next:before {opacity: 0.1;-webkit-transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: opacity 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}\");\n                styles.push(\".tin-slide-prev:hover:before, .tin-slide-next:hover:before {opacity: 0;}\");                  \n                styles.push(\".tin-slide-prev:before {left: 0;border-top: 23px solid transparent;border-bottom: 23px solid transparent;border-right: 41px solid black;margin-left: -4px;}\");                  \n                styles.push(\".tin-slide-prev:after {left: 0;border-top: 20px solid transparent;border-bottom: 20px solid transparent;border-right: 35px solid rgba(255, 255, 255, 0.4);-webkit-transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: border-right-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}\");\n                styles.push(\".tin-slide-prev:hover:after {border-right-color: white;}\");\n                styles.push(\".tin-slide-next {left: inherit;right: 10px;}\");\n                styles.push(\".tin-slide-next:before {right: 0;border-top: 23px solid transparent;border-bottom: 23px solid transparent;border-left: 41px solid black;margin-right: -4px;}\");\n                styles.push(\".tin-slide-next:after {right: 0;border-top: 20px solid transparent;border-bottom: 20px solid transparent;border-left: 35px solid rgba(255, 255, 255, 0.4);-webkit-transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: border-left-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}\");\n                styles.push(\".tin-slide-next:hover:after {border-left-color: white;}\");                  \n                styles.push(\".tin-slide-dots {position: absolute;bottom: 10px;left: 50%;-webkit-transform: translateX(-50%);-ms-transform: translateX(-50%);-o-transform: translateX(-50%);transform: translateX(-50%);}\");\n                styles.push(\".tin-slide-dots li {-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;width: 16px;height: 16px;border-radius: 8px;background-color: transparent;border: 2px solid white;margin-right: 5px;opacity: 0.9;-webkit-box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);-webkit-transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);-o-transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);transition: background-color 200ms cubic-bezier(0.48, 0.01, 0.21, 1);}\");\n                styles.push(\".tin-slide-dots li:hover {background-color: rgba(255, 255, 255, 0.5);}\");\n                styles.push(\".tin-slide-dots li.on {background-color: white; }\");\n                styles.push(\".tin-slide-outside {pointer-events: none;}\");\n                \n                var style = document.createElement('STYLE');\n                style.innerHTML = styles.join(\"\\n\");\n                return style;\n            },\n    \n            /**\n             *  Update the slider.\n             */\n            setPointer: function(val) {\n                \n                var i, index;\n\n                this.pointerVal = val;\n                var pointer = val % this.numItems;\n                if(pointer < 0 && this.settings.loop) {\n                    pointer += this.numItems;\n                }\n                this.pointer = pointer;\n\n                var visibleItems = [];\n\n                /*--------------------------------------------------\n                | If items should not be hidden,\n                | slide all items.\n                |-------------------------------------------------*/\n                if(!this.settings.hideItems) {\n                    for(i=0; i<this.numItems; i++) {\n                        visibleItems.push(this.items[i]);\n                    }\n                }\n                else {\n                    // Visible items first add the floor index.\n                    var visiblePointer = pointer - this.translateXOffsetProgress;\n                    // if(this.settings.effects.slideHorizontal.on && this.settings.effects.slideHorizontal.numVisible > 1 && this.settings.effects.slideHorizontal.centerSelected) {\n                    //     visiblePointer -= this.translateXOffsetProgress;\n                    // }\n                    if(visiblePointer < 0 && this.settings.loop) {\n                        visiblePointer += this.numItems;\n                    }\n                    var floorPointer = Math.floor(visiblePointer);\n                    if(floorPointer >= 0) {\n                        visibleItems.push(this.items[floorPointer]);\n                    }\n\n                    // Add ceil index if pointer is not at destination.\n                    for(i=1; i<=this.numItemsInside-(visiblePointer === floorPointer ? 1 : 0); i++) {\n                        // var ceilPointer = Math.ceil(this.pointer);\n                        var ceilPointer = floorPointer+i;\n                        if(this.settings.loop) {\n                            ceilPointer %= this.numItems;\n                        }\n                        if(ceilPointer < this.items.length && visibleItems.indexOf(this.items[ceilPointer]) === -1) {\n                            visibleItems.push(this.items[ceilPointer]);\n                        }\n                    }\n                }\n\n                // Mark previously visible items for check.\n                for(index in this.itemsVisible) {\n                    this.itemsVisible[index] = null;\n                }\n                var item;\n                var len=visibleItems.length;\n                var relativeItem = false;\n                for(i=0; i<len; i++) {\n                    item = visibleItems[i];\n                    // If previously non visible item becomes visible.\n                    if(this.itemsVisible[item.tinSlideIndex] === undefined) {\n                        this.hideOrShowElement(item, false);\n                    }\n                    // Store progress.\n                    var progress = this.pointer - item.tinSlideIndex;\n                    if(!this.translateXOffsetProgress) {\n                        if(progress > 1) {\n                            progress -= this.numItems;\n                        }\n                    }\n                    else {\n                        if(progress > this.numHalfItems) {\n                            progress -= this.numItems;\n                        }\n                        else if(progress < -this.numHalfItems) {\n                            progress += this.numItems;\n                        }\n                    }\n                    this.itemsVisible[item.tinSlideIndex] = progress;\n    \n                    // Make the most visible item relatively positioned,\n                    // and put it in front of the others.\n                    if(!(progress > 0.5 || progress < -0.5) && !relativeItem) {\n                        relativeItem = true;\n\n                        // If new item becomes selected.\n                        if(this.selectedItem !== item) {\n                            // Remove selected class from previously selected.\n                            if(this.selectedItem) {\n                                this.removeClass(this.selectedItem, 'tin-slide-selected');\n                            }\n                            this.selectedItem = item;\n                            this.addClass(item, 'tin-slide-selected');\n\n                            // All slides absolute positioned if slider has a defined height\n                            // (in separate CSS) or ratio.\n                            if(!(this.settings.useUpdateContainerHeight || this.settings.ratio || this.settings.hasHeight)) {\n                                item.style.position = 'relative';\n                            }\n                            if(this.settings.zIndex) {\n                                item.style.zIndex = this.settings.zIndex;\n                            }\n                            if(this.settings.moveSelectedItem) {\n                                this.container.removeChild(item);\n                                this.container.appendChild(item);\n                            }\n\n                            /*--------------------------------------------------\n                            | Emit event with selected item.\n                            |-------------------------------------------------*/\n                            tinSlide.emit('itemSelected', {\n                                index: item.tinSlideIndex,\n                                item: item\n                            });\n                        }\n                    }\n                    else {\n                        item.style.position = 'absolute';\n                        item.style.zIndex = '';\n                    }\n                }\n                // Hide previously visible items no longer visible.\n                for(index in this.itemsVisible) {\n                    if(this.itemsVisible[index] === null) {\n                        delete this.itemsVisible[index];\n                        item = this.items[index];\n                        this.hideOrShowElement(item, true);\n                        item.style.position = 'absolute';\n                        item.style.zIndex = '';\n                    }\n                }\n                this.applySlideEffect();\n            },\n\n            /**\n             *  Next/ previous.\n             */\n            next: function(isAuto) {\n                var status = false;\n                if(this.items.length > 1) {\n                    // Stop auto play if not an auto play navigation.\n                    if(isAuto !== true) {\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            this.stopAuto();\n                        }\n                    }\n                    if(!this.timerSwipe || this.swipeXAbs < this.settings.swipe.releaseRequiredSwipeX) {\n                        // Navigate if slider is looping, or if there are previous slides.\n                        if(this.settings.loop || this.targetIndex < this.numItems - 1) {\n                            this.targetIndex++;\n                            this.targetVal = this.targetIndex;\n                            this.animateToTarget();\n                            status = true;\n                        }\n                        else if(!isAuto && this.settings.useNonLoopingHint) {\n                            this.targetVal = this.numItems - 1 + 0.05;\n                            this.animateToTarget();\n                            var that = this;\n                            this.timerNonLoopingHint = setTimeout(function() {\n                                that.targetVal = that.targetIndex;\n                                that.animateToTarget();\n                            }, 200);\n                        }\n                    }\n                }\n                return status;\n            },\n            previous: function(isAuto) {\n                var status = false;\n                if(this.items.length > 1) {\n                    // Stop auto play if not an auto play navigation.\n                    if(isAuto !== true) {\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            this.stopAuto();\n                        }\n                    }\n                    if(!this.timerSwipe || this.swipeXAbs < this.settings.swipe.releaseRequiredSwipeX) {\n                        // Navigate if slider is looping, or if there are previous slides.\n                        if(this.settings.loop || this.targetIndex > 0) {\n                            this.targetIndex--;\n                            this.targetVal = this.targetIndex;\n                            this.animateToTarget();\n                            status = true;\n                        }\n                        else if(!isAuto && this.settings.useNonLoopingHint) {\n                            this.targetVal = -0.05;\n                            this.animateToTarget();\n                            var that = this;\n                            this.timerNonLoopingHint = setTimeout(function() {\n                                that.targetVal = that.targetIndex;\n                                that.animateToTarget();\n                            }, 200);\n                        }\n                    }\n                }\n                return status;\n            },\n            /**\n             *  Swipe.\n             */\n            // Performs the actual grabbing  stops slider etc.\n            onSwipePress: function(event) {\n    \n                if(this.items.length > 1) {\n                    var isTouch = event.type === 'touchstart';\n    \n                    // If link was pressed do nothing.\n                    if(event.target.nodeName === 'A') {\n                        return;\n                    }\n    \n                    /**\n                     *  Don't respond to right click.\n                     */\n                    var nativeEvent = event;\n                    if((nativeEvent.button !== undefined && nativeEvent.button === 2) || (nativeEvent.which !== undefined && nativeEvent.which === 3)) {\n                        return;\n                    }\n                    \n                    // this.swipePressX = isTouch ? event.layerX : event.clientX;\n                    this.swipePressX = isTouch ? event.touches[0].clientX : event.clientX;\n                    \n                    this.swipeX = 0;\n                    this.swipeXAbs = 0;\n    \n                    if(this.settings.swipe.pressMoveBeforeInvokeGrabbing) {\n                        document.addEventListener('touchmove', this.onSwipePressMove);\n                        document.addEventListener('mousemove', this.onSwipePressMove);\n                        document.addEventListener('touchend', this.clearSwipePressMove);\n                        document.addEventListener('mouseup', this.clearSwipePressMove);\n                    }\n                    else {\n                        this.onTimerSwipePress();\n                    }\n\n                    // Stop event useful if slider is a child slider.\n                    if(this.loop || (this.targetIndexWithinBounds>0 && this.targetIndexWithinBounds<this.numItems-1)) {\n                        event.stopPropagation();\n                    }\n                }\n            },\n\n            onSwipePressMove: function() {\n                this.clearSwipePressMove();\n                this.onTimerSwipePress();\n            },\n\n            clearSwipePressMove: function() {\n                document.removeEventListener('touchmove', this.onSwipePressMove);\n                document.removeEventListener('mousemove', this.onSwipePressMove);\n                document.removeEventListener('touchend', this.clearSwipePressMove);\n                document.removeEventListener('mouseup', this.clearSwipePressMove);\n            },\n\n            // Performs the actual grabbing  stops slider etc.\n            onTimerSwipePress: function() {\n\n                if(!this.settings.swipe.touchOnly) {\n                    this.container.style.cssText += '; cursor: -webkit-grabbing; cursor: grabbing;';\n                }\n\n                // Clear timer used for non looping hint.\n                clearTimeout(this.timerNonLoopingHint);\n                \n                // Stop auto play.\n                if(this.settings.autoPlay.stopOnNavigation) {\n                    this.pauseAuto();\n                }\n    \n                if(this.timerAnimate) {\n                    // clearInterval(this.timerAnimate);\n                    cancelAnimationFrame(this.timerAnimate);\n                    this.timerAnimate = 0;\n                }\n    \n                // Calculate how far the slide will travel upon press.\n                var step = 0;\n                var stepAdd = this.step;\n                for(var i=0; i<25; i++) {\n                    stepAdd *= this.settings.swipe.stepFactor;\n                    step += stepAdd;\n                }\n    \n                this.swipePressPointerVal = this.pointerVal + step;\n                this.swipeTargetVal = this.swipePressPointerVal;\n\n                document.addEventListener('touchmove', this._onSwipeMove);\n                document.addEventListener('touchend', this._onSwipeRelease);\n                if(!this.settings.swipe.touchOnly) {\n                    document.addEventListener('mousemove', this._onSwipeMove);\n                    document.addEventListener('mouseup', this._onSwipeRelease);\n                }\n\n                this.startSwipeTimer();\n            },\n            onSwipeMove: function(event) {\n\n                // Check if child slider is swiping.\n                // If so, lock this parent slider until child slider no longer swipes (first / last slide reached).\n                // Child sliders should probably have loop=false. Otherwise this parent slider will\n                // never slide again once child slider has been grabbed.\n                if(event.tinSlideMoved === undefined) {\n    \n                    var isTouch = event.type === 'touchmove';\n                    this.swipeIsTouch = isTouch;\n    \n                    var containerWidth = this.getContainerWidth();\n                    if(containerWidth) {\n\n                        /**\n                         * Check if touch scrolls an element in the slider.\n                         */\n                        if(isTouch && event.target !== undefined && event.target !== this.container) {\n                            var t = event.target;\n                            if(t.scrollWidth > t.offsetWidth) {\n                                this.swipeScrollsElementCounter++;\n                                if(this.swipeScrollsElementCounter < 4 || (t.scrollLeft > 0 && (t.scrollLeft + t.offsetWidth) < t.scrollWidth)) {\n                                    event.tinSlideMoved = this;\n                                    return;\n                                }\n                            }\n                        }\n\n                        // var currentX = isTouch ? event.layerX : event.clientX;\n                        var currentX = isTouch ? event.touches[0].clientX: event.clientX;\n                        if(currentX === undefined) {\n                            return;\n                        }\n\n                        if(this.swipePressX === undefined) {\n                            this.swipePressX = currentX;\n                        }\n\n                        this.swipeX = this.swipePressX - currentX;\n\n                        this.swipeXAbs = this.swipeX < 0 ? -this.swipeX : this.swipeX;\n\n                        if(!this.swipePreventDefault) {\n                            if(this.swipeXAbs > 10) {\n                                this.swipePreventDefault = true;\n                            }\n                        }\n\n                        var swipeTargetVal = this.swipePressPointerVal + (this.swipeX / containerWidth);\n                        if(!this.settings.loop) {\n                            var offset = this.settings.useNonLoopingHint ? 0.05 : 0;\n                            if(swipeTargetVal < -offset) {\n                                swipeTargetVal = -offset;\n                            }\n                            else if(swipeTargetVal > this.numItems - 1 + offset) {\n                                swipeTargetVal = this.numItems - 1 + offset;\n                            }\n                            else {\n                                event.tinSlideMoved = this;\n                            }\n                        }\n                        else {\n                            event.tinSlideMoved = this;\n                        }\n\n                        this.swipeTargetVal = swipeTargetVal;\n                        var targetIndexWithinBounds = Math.round(this.swipeTargetVal) % this.numItems;\n                        if(targetIndexWithinBounds < 0) {\n                            targetIndexWithinBounds += this.numItems;\n                        }\n                        this.targetIndexWithinBounds = targetIndexWithinBounds;\n                        this.updateDots();\n                    }\n                }\n            },\n            onSwipeRelease: function(event) {\n\n                document.removeEventListener('touchmove', this._onSwipeMove);\n                document.removeEventListener('touchend', this._onSwipeRelease);\n                if(!this.settings.swipe.touchOnly) {\n                    document.removeEventListener('mousemove', this._onSwipeMove);\n                    document.removeEventListener('mouseup', this._onSwipeRelease);\n                    this.container.style.cssText += '; cursor: -webkit-grab; cursor: grab;';\n                }\n\n                this.swipePreventDefault = false;\n                this.swipeScrollsElementCounter = 0;\n\n                if(this.swipeXAbs >= this.settings.swipe.releaseRequiredSwipeX) {\n\n                    var limit = 0.04;\n                    var targetIndex;\n                    if(this.step < -limit) {\n                        // Stop auto play.\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            this.stopAuto();\n                        }\n                        targetIndex = Math.floor(this.pointerVal);\n                    }\n                    else if(this.step > limit) {\n                        // Stop auto play.\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            this.stopAuto();\n                        }\n                        targetIndex = Math.ceil(this.pointerVal);\n                    }\n                    else {\n                        // Calculate how far the slide will travel upon release.\n                        var step = this.step * 15;\n                        var stepAdd = this.step;\n                        for(var i=0; i<80; i++) {\n                            stepAdd *= this.settings.swipe.stepFactor;\n                            step += stepAdd;\n                        }\n                        if(step > 1) {\n                            step = 1;\n                        }\n                        else if(step < -1) {\n                            step = -1;\n                        }\n                        var targetVal = this.pointerVal + step;\n                        targetIndex = Math.round(targetVal);\n\n                        if(this.settings.autoPlay.stopOnNavigation) {\n                            if(targetIndex === this.targetIndex) {\n                                if(event.type === 'touchend') {\n                                    this.resumeAuto();\n                                }\n                            }\n                            else {\n                                this.stopAuto();\n                            }\n                        }\n                    }\n    \n                    this.choke = 1;\n    \n                    // Wait a few milliseconds, otherwise prev / next will be invoked.\n                    setTimeout(function() {\n                        if(this.timerSwipe) {\n                            cancelAnimationFrame(this.timerSwipe);\n                            this.timerSwipe = 0;\n                        }\n                        this.targetIndex = targetIndex;\n                        this.targetVal = this.targetIndex;\n                        this.animateToTarget();\n                    }.bind(this), 1);\n                }\n                else {\n                    cancelAnimationFrame(this.timerSwipe);\n                    this.timerSwipe = 0;\n\n                    if(event.type === 'touchend') {\n                        this.resumeAuto();\n                    }\n                }\n    \n            },\n            startSwipeTimer: function() {\n                if(!this.timerSwipe) {\n                    this.timerSwipe = requestAnimationFrame(this._onTimerSwipe);\n                }\n            },\n            onTimerSwipe: function() {\n                var pointerVal = this.pointerVal;\n                var diff = this.swipeTargetVal - pointerVal;\n                var step = diff * (!this.swipeIsTouch ? this.settings.swipe.stepFactor : this.settings.swipe.stepFactorTouch);\n                this.step = step;\n                this.stepAbs = this.step < 0 ? -this.step : this.step;\n                pointerVal += step;\n                this.setPointer(pointerVal);\n                this.timerSwipe = requestAnimationFrame(this._onTimerSwipe);\n            },\n            getContainerWidth: function() {\n                if(!this.containerWidth) {\n                    this.containerWidth = container.offsetWidth;\n                }\n                return this.containerWidth;\n            },\n    \n            /**\n             *  Animate to index.\n             */\n            animateTo: function(index) {\n                this.targetIndex = index % this.numItems;\n                if(this.targetIndex < 0) {\n                    this.targetIndex += this.numItems;\n                }\n                this.targetIndexWithinBounds = this.targetIndex;\n                this.updateDots();\n                var pointerVal = this.pointerVal % this.numItems;\n                // Adjust pointerVal so slider chooses optimal direction.\n                if(this.settings.loop) {\n                    var diff = pointerVal - this.targetIndex;\n                    if(diff > this.numHalfItems) {\n                        pointerVal -= this.numItems;\n                    }\n                    else if(diff < -this.numHalfItems) {\n                        pointerVal += this.numItems;\n                    }\n                }\n                this.pointerVal = pointerVal;\n                this.targetVal = this.targetIndex;\n                this.animateToTarget();\n            },\n            animateToTarget: function() {\n                // Clear timer used for non looping hint.\n                clearTimeout(this.timerNonLoopingHint);\n                // Update dots.\n                var targetIndexWithinBounds = this.targetIndex % this.numItems;\n                if(targetIndexWithinBounds < 0) {\n                    targetIndexWithinBounds += this.numItems;\n                }\n                this.targetIndexWithinBounds = targetIndexWithinBounds;\n                this.updateDots();\n                if(this.settings.useUpdateContainerHeight) {\n                    this.updateContainerHeight();\n                }\n                if(!this.timerAnimate) {\n                    // var that = this;\n                    // this.timerAnimate = setInterval(function() {\n                    //     that.onAnimationTimer();\n                    // }, 25);\n\n                    this.timerAnimate = requestAnimationFrame(this._onAnimationTimer);\n                }\n            },\n            onAnimationTimer: function() {\n                var pointerVal = this.pointerVal;\n                var diff = this.targetVal - pointerVal;\n                var diffAbs = diff < 0 ? -diff : diff;\n\n                if(diffAbs < this.settings.stepSnap) {\n                    this.step = this.stepAbs = 0;\n                    this.setPointer(this.targetVal);\n                    cancelAnimationFrame(this.timerAnimate);\n                    this.timerAnimate = 0;\n                }\n                else {\n                    var step = (diff) * this.settings.stepFactor;\n                    // If slider continues in the same direction.\n                    if(step * this.step >= 0) {\n                        this.step = (diff) * this.settings.stepFactor;\n                        // Release the choke for acceleration.\n                        if(this.choke < 1) {\n                            this.choke = (this.choke * this.settings.chokeReleaseFactor) + (this.choke || this.settings.chokeReleaseStep ? this.settings.chokeReleaseStep : 0.05);\n                        }\n                        // Decrease choke when target is approached.\n                        if(this.choke > diffAbs) {\n                            this.choke = diffAbs * (0.5 + this.settings.chokeReturnFactor);\n                        }\n                        if(this.choke > 1) {\n                            this.choke = 1;\n                        }\n                        if(this.step > this.settings.stepMin || this.step < -this.settings.stepMin) {\n                            var stepMax = this.choke * this.settings.stepMax;\n                            if(this.step > stepMax) {this.step = stepMax;}\n                            else if(this.step < -stepMax) {this.step = -stepMax;}\n                            if(!(this.step > this.settings.stepMin || this.step < -this.settings.stepMin)) {\n                                this.step = this.settings.stepMin * (this.step < 0 ? -1 : 1);\n                            }\n                        }\n                        this.stepAbs = this.step < 0 ? -this.step : this.step;\n                        pointerVal += this.step;\n                    }\n                    // If slider changes direction  break and turn.\n                    else {\n                        step = this.step * (1-this.settings.stepTurnBreakFactor);\n                        // If turning break has completed.\n                        if(!(step > this.settings.stepSnap || step < -this.settings.stepSnap)) {\n                            this.step = 0;\n                        } else {\n                            this.step = step;\n                        }\n                        pointerVal += step;\n                    }\n                    this.stepAbs = this.step < 0 ? -this.step : this.step;\n                    this.setPointer(pointerVal);\n                    this.timerAnimate = requestAnimationFrame(this._onAnimationTimer);\n                }\n            },\n            goTo: function(index) {\n                // Clear timer used for non looping hint.\n                clearTimeout(this.timerNonLoopingHint);\n                // Stop auto play.\n                if(this.settings.autoPlay.stopOnNavigation) {\n                    this.stopAuto();\n                }\n                // Stop animation.\n                if(this.timerAnimate) {\n                    // clearInterval(this.timerAnimate);\n                    cancelAnimationFrame(this.timerAnimate);\n                    this.timerAnimate = 0;\n                }\n                // Calculate correct target index.\n                this.targetIndex = index % this.numItems;\n                if(this.targetIndex < 0) {\n                    this.targetIndex += this.numItems;\n                }\n                this.targetIndexWithinBounds = this.targetIndex;\n                this.updateDots();\n                if(this.settings.useUpdateContainerHeight) {\n                    this.updateContainerHeight();\n                }\n                this.setPointer(this.targetIndexWithinBounds);\n            },\n\n            updateContainerHeight: function(fromSubSlideWithHeight) {\n                \n                var parentSlides;\n\n                // If this action was initiated by the slider itself.\n                if(fromSubSlideWithHeight === undefined) {\n                    // Don't do anything if the slider has parent sliders.\n                    // Let the top most slider handle the action.\n                    parentSlides = this.getParentSlides();\n                    if(parentSlides.length) {\n                        parentSlides[0].updateContainerHeight();\n                    }\n                    // If this is the top most slider.\n                    else {\n                        // Check if slider has sub slides.\n                        // Update height on the inner most slider.\n                        // Inner most slider will then traverse upwards and update\n                        // parent slides all the way up to this one.\n                        var subSlides = this.getSubSlides();\n                        if(subSlides.length) {\n                            subSlides[0].updateContainerHeightFromParent();\n                        }\n                        else {\n                            this.doUpdateContainerHeight();\n                        }\n                    }\n                }\n\n                // If slider was instructed by a sub slider to update height.\n                // Also enters here if this is the inner most slider (with fromSubSlideWithHeight = 0).\n                else {\n                    this.doUpdateContainerHeight(fromSubSlideWithHeight);\n                    // Update parent slider.\n                    parentSlides = this.getParentSlides().reverse();\n                    if(parentSlides.length) {\n                        parentSlides[0].updateContainerHeight(this.containerHeight);\n                    }\n                }\n\n            },\n\n            doUpdateContainerHeight: function(minHeight) {\n                var id = this.container.getAttribute('id');\n                if(minHeight === undefined) {\n                    minHeight = 0;\n                }\n                var containerHeight = this.items[this.targetIndexWithinBounds].offsetHeight;\n                if(!containerHeight) {\n                    this.items[this.targetIndexWithinBounds].style.display = 'block';\n                    containerHeight = this.items[this.targetIndexWithinBounds].offsetHeight;\n                }\n                if(containerHeight < minHeight) {\n                    containerHeight = minHeight;\n                }\n                if(containerHeight > 0 && this.containerHeight !== containerHeight) {\n                    this.containerHeight = containerHeight;\n                    this.css(this.container, {\n                        height: containerHeight+'px'\n                    });\n                }\n            },\n\n            // Update this inner most slider.\n            updateContainerHeightFromParent: function() {\n                this.updateContainerHeight(0);\n            },\n\n            getParentSlides: function() {\n                var slides = [];\n                function checkParentNode(element) {\n                    if(element.parentNode && element.parentNode !== undefined) {\n                        if(element.parentNode.tinSlide !== undefined) {\n                            slides.push(element.parentNode.tinSlide);\n                        }\n                        checkParentNode(element.parentNode);\n                    }\n                }\n                checkParentNode(this.container);\n                return slides.reverse();\n            },\n\n            getSubSlides: function() {\n                var slides = [];\n                function checkChildNodes(element) {\n                    for(var i=0, n=element.childNodes.length; i<n; i++) {\n                        if(element.childNodes[i].tinSlide !== undefined) {\n                            slides.push(element.childNodes[i].tinSlide);\n                            checkChildNodes(element.childNodes[i].tinSlide.getCurrentItem());\n                        }\n                        else {\n                            checkChildNodes(element.childNodes[i]);\n                        }\n                    }\n                }\n                // checkChildNodes(this.container);\n                checkChildNodes(this.items[this.targetIndexWithinBounds]);\n                return slides.reverse();\n            },\n\n            /**\n             *  Apply desired slide effect:\n             *   - Horizontal slide\n             *   - Fade\n             *   - Scale\n             *   - Motion blur\n             */\n            applySlideEffect: function() {\n                for(var index in this.itemsVisible) {\n    \n                    var item = this.items[index];\n                    var progress = this.itemsVisible[index];\n                    var progressAbs = progress < 0 ? -progress : progress;\n                    var transforms = [];\n    \n                    // Horizontal slide.\n                    if(this.settings.effects.slideHorizontal.on) {\n                        var translateXProgress = progress - this.translateXOffsetProgress;\n                        var translateX = ((this.settings.effects.slideHorizontal.offset*100)*-translateXProgress)+'%';\n                        var translateY = !this.settings.verticallyCenter ? 0 : '-50%';\n                        transforms.push('translate3d('+translateX+', '+translateY+', 0)');\n\n                        /*--------------------------------------------------\n                        | Add class to visible items outside of slider.\n                        | Mostly usable when hideItems = false.\n                        |-------------------------------------------------*/\n                        if(translateXProgress > 0.75 ||translateXProgress < -(this.settings.effects.slideHorizontal.numVisible-0.25)) {\n                            if(this.itemsOutside[index] === undefined) {\n                                this.itemsOutside[index] = item;\n                                this.addClass(item, 'tin-slide-outside');\n                            }\n                        }\n                        else {\n                            if(this.itemsOutside[index] !== undefined) {\n                                delete this.itemsOutside[index];\n                                this.removeClass(item, 'tin-slide-outside');\n                            }\n                        }\n                    }\n    \n                    // Scale\n                    if(this.settings.effects.scale.on) {\n                        var scale;\n                        if(progressAbs < this.settings.effects.scale.maxAt) {\n                            scale = this.settings.effects.scale.max;\n                        }\n                        else if(progressAbs < this.settings.effects.scale.minAt) {\n                            var scaleFactor = 1 - ((progressAbs - this.settings.effects.scale.maxAt) / (this.settings.effects.scale.minAt - this.settings.effects.scale.maxAt));\n                            scale = this.settings.effects.scale.min + scaleFactor * (this.settings.effects.scale.max - this.settings.effects.scale.min);\n                        }\n                        else {\n                            scale = this.settings.effects.scale.min;\n                        }\n                        transforms.push('scale('+scale+', '+scale+')');\n                    }\n    \n                    // Apply accumulated transforms.\n                    if(transforms.length) {\n                        item.style.transform = transforms.join(' ');\n                    }\n                    else if(item.style.transform !== '') {\n                        item.style.transform = '';\n                    }\n    \n                    // Fade\n                    if(this.settings.effects.fade.on) {\n                        var opacity;\n                        if(progressAbs < this.settings.effects.fade.maxAt) {\n                            opacity = this.settings.effects.fade.max;\n                        }\n                        else if(progressAbs < this.settings.effects.fade.minAt) {\n                            var opacityFactor = 1 - ((progressAbs - this.settings.effects.fade.maxAt) / (this.settings.effects.fade.minAt - this.settings.effects.fade.maxAt));\n                            opacity = this.settings.effects.fade.min + opacityFactor * (this.settings.effects.fade.max - this.settings.effects.fade.min);\n                        }\n                        else {\n                            opacity = this.settings.effects.fade.min;\n                        }\n                        item.style.opacity = opacity;\n                    }\n                    else if(item.style.opacity !== '') {\n                        item.style.opacity = '';\n                    }\n                }\n    \n                // Motion blur.\n                if(this.settings.effects.motionBlur.on) {\n                    this.applyBlur();\n                }\n            },\n            /**\n             *  Speed based blur.\n             */\n            applyBlur: function() {\n                var blurFactor = this.stepAbs - this.settings.effects.motionBlur.stepMin;\n                if(blurFactor < 0) {blurFactor = 0;}\n                var blur = blurFactor * this.settings.effects.motionBlur.factor;\n                if(blur > this.settings.effects.motionBlur.maxPixels) {blur = this.settings.effects.motionBlur.maxPixels;}\n                var cssBlur = blur ? 'blur('+blur+'px)' : '';\n                for(var index in this.itemsVisible) {\n                    this.items[index].style.filter = cssBlur;\n                }\n            },\n            updateDots: function() {\n                if(this.dots && this.currentDotIndex !== this.targetIndexWithinBounds) {\n                    var dot;\n                    if(this.currentDotIndex !== null) {\n                        dot = this.dotsItems[this.currentDotIndex];\n                        if(dot) {\n                            this.removeClass(dot, 'on');\n                        }\n                    }\n                    this.currentDotIndex = this.targetIndexWithinBounds;\n                    dot = this.dotsItems[this.currentDotIndex];\n                    if(dot) {\n                        this.addClass(dot, 'on');\n                    }\n                }\n            },\n            onDotClick: function(event) {\n                // Stop auto play.\n                if(this.settings.autoPlay.stopOnNavigation) {\n                    this.stopAuto();\n                }\n                var index = parseInt(event.target.getAttribute('tin-slide-index'), 10);\n                this.animateTo(index);\n            },\n            startAuto: function() {\n                if(this.autoPlayState === 'stopped') {\n                    return;\n                }\n                if(this.autoPlayState !== 'started') {\n                    this.autoPlayState = 'started';\n                    this.resumeAuto();\n                }\n            },\n            pauseAuto: function() {\n                if(this.autoPlayState === 'stopped') {\n                    return;\n                }\n                // Don't do anything if auto play isn't activated.\n                if(this.autoPlayState) {\n                    this.autoPlayState = 'paused';\n                    clearInterval(this.timerAutoPlay);\n                    this.timerAutoPlay = 0;\n                }\n            },\n            resumeAuto: function() {\n                if(this.autoPlayState === 'stopped') {\n                    return;\n                }\n                // Don't do anything if auto play isn't activated.\n                if(this.autoPlayState) {\n                    this.autoPlayState = 'started';\n                    clearInterval(this.timerAutoPlay);\n                    this.timerAutoPlay = setInterval(function() {\n                        // Only auto slide if swiping is not active.\n                        // Only auto slide if slider is visible.\n                        // Also don't slide if window isn't visible.\n                        if(!this.timerSwipe && this.container.clientHeight && !this.hasClass(this.container, 'window-hidden')) {\n                            var status = this.autoPlayForwards ? this.next(true) : this.previous(true);\n                            // Change direction if navigation failed.\n                            if(!status) {\n                                this.autoPlayForwards = !this.autoPlayForwards;\n                                status = this.autoPlayForwards ? this.next(true) : this.previous(true);\n                            }\n                        }\n                    }.bind(this), this.settings.autoPlay.time);\n                }\n            },\n            stopAuto: function() {\n                if(this.autoPlayState === 'stopped') {\n                    return;\n                }\n                if(this.autoPlayState) {\n                    this.pauseAuto();\n                    this.autoPlayState = 'stopped';\n                }\n            },\n            imageLoaded: function(event) {\n                if(this.settings.useUpdateContainerHeight) {\n                    this.updateContainerHeight();\n                }\n            }\n        };\n\n        /**\n         *  Public methods.\n         */\n        var events = {};\n\n        tinSlide = {\n            next: function(index) {\n                logic.next();\n            },\n            previous: function(index) {\n                logic.previous();\n            },\n            animateTo: function(index) {\n                logic.animateTo(index);\n            },\n            goTo: function(index) {\n                logic.goTo(index);\n            },\n            getDots: function() {\n                return logic.dots ? logic.dots : logic.createDots();\n            },\n            getNav: function() {\n                return logic.nav ? logic.nav : logic.createNav();\n            },\n            startAuto: function() {\n                logic.startAuto();\n            },\n            stopAuto: function() {\n                logic.stopAuto();\n            },\n            updateContainerHeight: function(fromSubSlideWithHeight) {\n                logic.updateContainerHeight(fromSubSlideWithHeight);\n            },\n            updateContainerHeightFromParent: function() {\n                logic.updateContainerHeightFromParent();\n            },\n            getCurrentItem: function() {\n                return logic.items[logic.targetIndexWithinBounds];\n            },\n            on: function(eventType, listener) {\n                if (typeof events[eventType] !== 'object') {\n                    events[eventType] = [];\n                }\n                events[eventType].push(listener);\n            },\n            removeListener: function(eventType, listener) {\n                var idx;\n                if (typeof events[eventType] === 'object') {\n                    idx = events[eventType].indexOf(listener);\n                    if (idx > -1) {\n                        events[eventType].splice(idx, 1);\n                    }\n                }\n            },\n            emit: function(eventType, event) {\n                var i, listeners, len, args = [].slice.call(arguments, 1);\n                if (typeof events[eventType] === 'object') {\n                    listeners = events[eventType].slice();\n                    len = listeners.length;\n                    for(i = 0; i < len; i++) {\n                        listeners[i].apply(this, args);\n                    }\n                }\n            }\n        };\n\n        // Initialize.\n        logic.init(container, options);\n\n        /*--------------------------------------------------\n        | Prevent IE image dragging.\n        |-------------------------------------------------*/\n        document.ondragstart = function () { return false; };\n\n        /**\n         *  Experimentally check if window is hidden.\n         *  Used to pause autoplay when window is hidden.\n         */\n        var documentHiddenName = null;\n        function onVisibilityChange(event) {\n            var v = \"visible\", h = \"hidden\";\n            var eventMap = {\n                focus: v, \n                focusin: v, \n                pageshow: v, \n                blur: h, \n                focusout: h, \n                pagehide: h\n            };\n            event = event || window.event;\n            var isHidden = false;\n            if(event.type in eventMap) {\n                isHidden = eventMap[event.type] === 'hidden';\n            }\n            else {\n                isHidden = document[documentHiddenName] ? true : false;\n            }\n            if(isHidden) {\n                logic.addClass(logic.container, 'window-hidden');\n            }\n            else {\n                logic.removeClass(logic.container, 'window-hidden');\n            }\n        }\n        if(\"hidden\" in document) {\n            documentHiddenName = \"hidden\";\n            document.addEventListener(\"visibilitychange\", onVisibilityChange);\n        }\n        else if(\"mozHidden\" in document) {\n            documentHiddenName = \"mozHidden\";\n            document.addEventListener(\"mozvisibilitychange\", onVisibilityChange);\n        }\n        else if(\"webkitHidden\" in document) {\n            documentHiddenName = \"webkitHidden\";\n            document.addEventListener(\"webkitvisibilitychange\", onVisibilityChange);\n        }\n        else if (\"msHidden\" in document) {\n            documentHiddenName = \"msHidden\";\n            document.addEventListener(\"msvisibilitychange\", onVisibilityChange);\n        }\n        // IE 9 and lower:\n        else if (\"onfocusin\" in document) {\n            document.onfocusin = document.onfocusout = onVisibilityChange;\n        }\n        // All others:\n        else {\n            window.onpageshow = window.onpagehide = window.onfocus = window.onblur = onVisibilityChange;\n        }\n        // set the initial state (but only if browser supports the Page Visibility API)\n        if(documentHiddenName && document[documentHiddenName] !== undefined) {\n            onVisibilityChange({type: document[documentHiddenName] ? \"blur\" : \"focus\"});\n        }\n\n        container.tinSlide = tinSlide;\n\n        return tinSlide;\n    }\n\n    /*--------------------------------------------------\n    | Element.firstElementChild polyfill.\n    |-------------------------------------------------*/\n    ;(function(constructor) {\n        if (constructor &&\n            constructor.prototype &&\n            constructor.prototype.firstElementChild == null) {\n            Object.defineProperty(constructor.prototype, 'firstElementChild', {\n                get: function() {\n                    var nodes = this.childNodes, i = 0;\n                    var node = nodes[i++];\n                    while (node) {\n                        if (node.nodeType === 1) {\n                            return node;\n                        }\n                        node = nodes[i++];\n                    }\n                    return null;\n                }\n            });\n        }\n    })(window.Node || window.Element);\n\n    /*--------------------------------------------------\n    | Window.requestAnimationFrame polyfill.\n    |-------------------------------------------------*/\n    window.requestAnimFrame = (function() {\n        return window.requestAnimationFrame    ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame    ||\n            function(callback) {\n                window.setTimeout(callback, 1000 / 60);\n            };\n    })();\n\n    return TinSlide$;\n\n}));"],"file":"tin-slide.js"}